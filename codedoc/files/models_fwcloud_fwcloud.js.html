<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>models/fwcloud/fwcloud.js - FWCloud API REST Documentation</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="http://foswiki.soltecsis.com/codedoc/soltecsis-logo1.png" title="FWCloud API REST Documentation"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/ClusterRouter.html">ClusterRouter</a></li>
                                <li><a href="../classes/CompileRouter.html">CompileRouter</a></li>
                                <li><a href="../classes/FirewallModel.html">FirewallModel</a></li>
                                <li><a href="../classes/FirewallRouter.html">FirewallRouter</a></li>
                                <li><a href="../classes/FwcloudModel.html">FwcloudModel</a></li>
                                <li><a href="../classes/FwcloudRouter.html">FwcloudRouter</a></li>
                                <li><a href="../classes/IpobjModel.html">IpobjModel</a></li>
                                <li><a href="../classes/IpobjsRouter.html">IpobjsRouter</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/Cluster.html">Cluster</a></li>
                                <li><a href="../modules/Compile.html">Compile</a></li>
                                <li><a href="../modules/Firewall.html">Firewall</a></li>
                                <li><a href="../modules/FirewallExport.html">FirewallExport</a></li>
                                <li><a href="../modules/Fwcloud.html">Fwcloud</a></li>
                                <li><a href="../modules/Ipobjs.html">Ipobjs</a></li>
                                <li><a href="../modules/OpenVPN.html">OpenVPN</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: models/fwcloud/fwcloud.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
var db = require(&#x27;../../db.js&#x27;);

/**
 * Module to manage Fwcloud data
 *
 * @module Fwcloud
 * 
 * @requires db
 * 
 */

/**
 * Class to manage fwclouds data
 *
 * @class FwcloudModel
 * @uses db
 * 
 */
var fwcloudModel = {};



//Export the object
module.exports = fwcloudModel;


/**
 * Property Table
 *
 * @property tableModel
 * @type &quot;fwcloud&quot;
 * @private
 * 
 */
var tableModel = &quot;fwcloud&quot;;



var logger = require(&#x27;log4js&#x27;).getLogger(&quot;app&quot;);


/**
 * Get Fwcloud by User
 *  
 * @method getFwcloud
 * 
 * @param {Integer} iduser User identifier
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {ARRAY of Fwcloud objects} Returns &#x60;ARRAY OBJECT FWCLOUD DATA&#x60; 
 * 
 * Table: __fwcloud__
 * 
 *           id	int(11) AI PK
 *           cluster	int(11)
 *           fwcloud	int(11)
 *           name	varchar(255)
 *           comment	longtext
 *           created_at	datetime
 *           updated_at	datetime
 *           by_user	int(11)
 */
fwcloudModel.getFwclouds = function (iduser, callback) {

	db.get(function (error, connection) {
		if (error)
			callback(error, null);
		var sql = &#x27;SELECT distinctrow C.* FROM &#x27; + tableModel + &#x27; C  &#x27; +
				&#x27; INNER JOIN user__cloud U ON C.id=U.fwcloud &#x27; +
				&#x27; WHERE U.id_user=&#x27; + connection.escape(iduser) + &#x27; AND U.allow_access=1 ORDER BY C.name&#x27;;
		logger.debug(sql);
		connection.query(sql, function (error, rows) {
			if (error)
				callback(error, null);
			else
				callback(null, rows);
		});
	});
};



/**
 * Get Fwcloud by User and ID
 *  
 * @method getFwcloud
 * 
 * @param {Integer} iduser User identifier
 * @param {Integer} id fwcloud identifier
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {Fwcloud object} Returns &#x60;OBJECT FWCLOUD DATA&#x60; 
 * 
 * Table: __fwcloud__
 * 
 *           id	int(11) AI PK
 *           cluster	int(11)
 *           fwcloud	int(11)
 *           name	varchar(255)
 *           comment	longtext
 *           created_at	datetime
 *           updated_at	datetime
 *           by_user	int(11)
 */
fwcloudModel.getFwcloud = function (iduser, fwcloud, callback) {
	db.get(function (error, connection) {
		if (error)
			callback(error, null);

		var sql = &#x27;SELECT distinctrow C.* FROM &#x27; + tableModel + &#x27; C  &#x27; +
				&#x27; INNER JOIN user__cloud U ON C.id=U.fwcloud &#x27; +
				&#x27; WHERE U.id_user=&#x27; + connection.escape(iduser) + &#x27; AND U.allow_access=1 AND C.id=&#x27; + connection.escape(fwcloud);
		connection.query(sql, function (error, row) {
			if (error)
				callback(error, null);
			else
				callback(null, row);
		});
	});
};

/**
 * Get Fwcloud Access by Locked 
 *  
 * @method getFwcloudLockedAccess
 * 
 * @param {Integer} iduser User identifier
 * @param {Integer} fwcloud fwcloud identifier 
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {Boolean} Returns &#x60;LOCKED STATUS&#x60; 
 * 
 */
fwcloudModel.getFwcloudAccess = function (iduser, fwcloud) {
	return new Promise((resolve, reject) =&gt; {
		db.get(function (error, connection) {
			if (error)
				reject(false);
			var sql = &#x27;SELECT distinctrow C.* FROM &#x27; + tableModel + &#x27; C  &#x27; +
					&#x27; INNER JOIN user__cloud U ON C.id=U.fwcloud &#x27; +
					&#x27; WHERE U.id_user=&#x27; + connection.escape(iduser) + &#x27; AND U.allow_access=1 AND C.id=&#x27; + connection.escape(fwcloud);
			connection.query(sql, function (error, row) {
				if (error)
					reject(false);
				else if (row &amp;&amp; row.length &gt; 0) {
					//logger.debug(row[0]);
					logger.debug(&quot;IDUSER: &quot; + iduser);
					if (row[0].locked === 1 &amp;&amp; Number(row[0].locked_by) === Number(iduser))
					{
						//Access OK, LOCKED by USER
						resolve({&quot;access&quot;: true, &quot;locked&quot;: true, &quot;mylock&quot;: true, &quot;locked_at&quot;: row[0].locked_at, &quot;locked_by&quot;: row[0].locked_by});
					} else if (row[0].locked === 1 &amp;&amp; Number(row[0].locked_by) !== Number(iduser))
					{
						//Access OK, LOCKED by OTHER USER
						resolve({&quot;access&quot;: true, &quot;locked&quot;: true, &quot;mylock&quot;: false, &quot;locked_at&quot;: row[0].locked_at, &quot;locked_by&quot;: row[0].locked_by});
					} else if (row[0].locked === 0)
					{
						//Access OK, NOT LOCKED
						resolve({&quot;access&quot;: true, &quot;locked&quot;: false, &quot;mylock&quot;: false, &quot;locked_at&quot;: &quot;&quot;, &quot;locked_by&quot;: &quot;&quot;});
					}
				} else {
					//Access ERROR, NOT LOCKED
					resolve({&quot;access&quot;: false, &quot;locked&quot;: &quot;&quot;, &quot;mylock&quot;: false, &quot;locked_at&quot;: &quot;&quot;, &quot;locked_by&quot;: &quot;&quot;});
				}
			});
		});
	});
};

/**
 * Check Fwcloud locked timeout
 *  
 * @method getFwcloudLockedTimeout
 * 
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {Boolean} Returns &#x60;RESULT UNLOCKED&#x60; 
 * 
 */
fwcloudModel.checkFwcloudLockTimeout = function (timeout, callback) {
	return new Promise((resolve, reject) =&gt; {
		db.get(function (error, connection) {
			if (error)
				reject(false);
			var sql = &#x27;select TIMESTAMPDIFF(MINUTE, updated_at, NOW()) as dif,  C.* from &#x27; + tableModel + &#x27; C WHERE C.locked=1 HAVING dif&gt;&#x27; + timeout;
			connection.query(sql, function (error, rows) {
				if (error)
					reject(false);
				else if (rows &amp;&amp; rows.length &gt; 0) {
					//UNLOCK ALL
					for (var i = 0; i &lt; rows.length; i++) {
						var row = rows[i];
						var sqlupdate = &#x27;UPDATE &#x27; + tableModel + &#x27; SET locked = 0  WHERE id = &#x27; + row.id;
						connection.query(sqlupdate, function (error, result) {
							logger.info(&quot;-----&gt; UNLOCK FWCLOUD: &quot; + row.id + &quot; BY TIMEOT INACTIVITY of &quot; + row.dif + &quot;  Min LAST UPDATE: &quot; + row.updated_at +
									&quot;  LAST LOCK: &quot; + row.locked_at + &quot;  BY: &quot; + row.locked_by);
						});
					}
					resolve(true);
				} else {
					reject(false);
				}
			});
		});
	});
};


/**
 * ADD New Fwcloud
 *  
 * @method insertFwcloud
 * 
 * @param iduser {Integer}  User identifier
 * @param fwcloudData {Fwcloud Object}  Fwcloud Object data
 *       @param fwcloudData.id {NULL} 
 *       @param fwcloudData.name {string} Fwcloud Name
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {CALLBACK RESPONSE}
 * 
 * @example
 * #### RESPONSE OK:
 *    
 *       callback(null, {&quot;insertId&quot;: fwid});
 *       
 * #### RESPONSE ERROR:
 *    
 *       callback(error, null);
 *       
 */
fwcloudModel.insertFwcloud = function (iduser, fwcloudData, callback) {
	db.get(function (error, connection) {
		if (error)
			callback(error, null);
		connection.query(&#x27;INSERT INTO &#x27; + tableModel + &#x27; SET ?&#x27;, fwcloudData, function (error, result) {
			if (error) {
				logger.debug(&quot;FWCLOUD ERROR: &quot;, error);
				callback(error, null);
			} else {
				var fwid = result.insertId;
				sqlinsert = &#x27;INSERT INTO  user__cloud  SET fwcloud=&#x27; + connection.escape(fwid) + &#x27; , id_user=&#x27; + connection.escape(iduser) + &#x27; , allow_access=1, allow_edit=1&#x27;;
				connection.query(sqlinsert, function (error, result) {
					if (error) {
						logger.debug(&quot;SQL ERROR USER INSERT: &quot;, error, &quot;\n&quot;, sqlinsert);
						callback(error, null);
					} else {
						callback(null, {&quot;insertId&quot;: fwid});
					}
				});
			}
		});
	});
};

/**
 * UPDATE Fwcloud
 *  
 * @method updateFwcloud
 * 
 * @param iduser {Integer}  User identifier
 * @param fwcloudData {Fwcloud Object}  Fwcloud Object data
 *       @param fwcloudData.id {NULL} 
 *       @param fwcloudData.name {string} Fwcloud Name
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {CALLBACK RESPONSE}
 * 
 * @example
 * #### RESPONSE OK:
 *    
 *       callback(null, {&quot;result&quot;: true});
 *       
 * #### RESPONSE ERROR:
 *    
 *       callback(error, null);
 *       
 */
fwcloudModel.updateFwcloud = function (fwcloudData, callback) {

	db.get(function (error, connection) {
		if (error)
			callback(error, null);
		var sql = &#x27;UPDATE &#x27; + tableModel + &#x27; SET name = &#x27; + connection.escape(fwcloudData.name) +
				&#x27; ,image = &#x27; + connection.escape(fwcloudData.image) +
				&#x27; ,comment = &#x27; + connection.escape(fwcloudData.comment) +
				&#x27; WHERE id = &#x27; + fwcloudData.id;
		logger.debug(sql);
		connection.query(sql, function (error, result) {
			if (error) {
				callback(error, null);
			} else {
				callback(null, {&quot;result&quot;: true});
			}
		});
	});
};

/**
 * UPDATE Fwcloud lock status
 *  
 * @method updateFwcloudLock
 * 
 * @param iduser {Integer}  User identifier
 * @param fwcloudData {Fwcloud Object}  Fwcloud Object data
 *       @param fwcloudData.id {NULL} 
 *       @param fwcloudData.fwcloud {Integer} FWcloud ID
 *       @param fwcloudData.locked {Integer} Locked status
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {CALLBACK RESPONSE}
 * 
 * @example
 * #### RESPONSE OK:
 *    
 *       callback(null, {&quot;result&quot;: true});
 *       
 * #### RESPONSE ERROR:
 *    
 *       callback(error, null);
 *       
 */
fwcloudModel.updateFwcloudLock = function (fwcloudData) {
	return new Promise((resolve, reject) =&gt; {
		var locked = 1;
		db.get(function (error, connection) {
			db.lockTable(connection, &quot;fwcloud&quot;, &quot; WHERE id=&quot; + fwcloudData.fwcloud, function () {
				db.startTX(connection, function () {
					if (error)
						reject(error);
					//Check if FWCloud is unlocked or locked by the same user
					var sqlExists = &#x27;SELECT id FROM &#x27; + tableModel + &#x27;  &#x27; +
							&#x27; WHERE id = &#x27; + connection.escape(fwcloudData.fwcloud) +
							&#x27; AND (locked=0 OR (locked=1 AND locked_by=&#x27; + connection.escape(fwcloudData.iduser) + &#x27;)) &#x27;;

					connection.query(sqlExists, function (error, row) {
						if (row &amp;&amp; row.length &gt; 0) {
							//Check if there are Firewalls in FWCloud with Access and Edit permissions
							//var sqlExists = &#x27;SELECT F.id FROM firewall F inner join &#x27; + tableModel + &#x27; C ON C.id=F.fwcloud &#x27; +
							//        &#x27; INNER JOIN user__firewall U on U.id_firewall=F.id AND U.id_user=&#x27; + connection.escape(fwcloudData.iduser) +
							//        &#x27; WHERE C.id = &#x27; + connection.escape(fwcloudData.fwcloud) +
							//        &#x27; AND U.allow_access=1 AND U.allow_edit=1 &#x27;;
							//        
							//Check if there are FWCloud with Access and Edit permissions
							var sqlExists = &#x27;SELECT C.id FROM &#x27; + tableModel + &#x27; C &#x27; +
									&#x27; INNER JOIN user__cloud U on U.fwcloud=C.id AND U.id_user=&#x27; + connection.escape(fwcloudData.iduser) +
									&#x27; WHERE C.id = &#x27; + connection.escape(fwcloudData.fwcloud) +
									&#x27; AND U.allow_access=1 AND U.allow_edit=1 &#x27;;
							logger.debug(sqlExists);
							connection.query(sqlExists, function (error, row) {
								if (row &amp;&amp; row.length &gt; 0) {

									var sql = &#x27;UPDATE &#x27; + tableModel + &#x27; SET locked = &#x27; + connection.escape(locked) + &#x27;,&#x27; +
											&#x27;locked_at = CURRENT_TIMESTAMP ,&#x27; +
											&#x27;locked_by = &#x27; + connection.escape(fwcloudData.iduser) + &#x27; &#x27; +
											&#x27; WHERE id = &#x27; + fwcloudData.fwcloud;
									logger.debug(sql);
									connection.query(sql, function (error, result) {
										if (error) {
											reject(error);
										} else {
											db.endTX(connection, function () {});
											resolve({&quot;result&quot;: true});
										}
									});
								} else {
									db.endTX(connection, function () {});
									resolve({&quot;result&quot;: false});
								}
							});
						} else {
							db.endTX(connection, function () {});
							resolve({&quot;result&quot;: false});
						}
					});
				});
			});
		});
	});
};

/**
 * UNLOCK Fwcloud status
 *  
 * @method updateFwcloudUnlock
 * 
 * @param iduser {Integer}  User identifier
 * @param fwcloudData {Fwcloud Object}  Fwcloud Object data
 *       @param fwcloudData.id {NULL} 
 *       @param fwcloudData.fwcloud {Integer} FWcloud ID
 *       @param fwcloudData.locked {Integer} Locked status
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {CALLBACK RESPONSE}
 * 
 * @example
 * #### RESPONSE OK:
 *    
 *       callback(null, {&quot;result&quot;: true});
 *       
 * #### RESPONSE ERROR:
 *    
 *       callback(error, null);
 *       
 */
fwcloudModel.updateFwcloudUnlock = function (fwcloudData, callback) {
	return new Promise((resolve, reject) =&gt; {
		var locked = 0;
		db.get(function (error, connection) {
			if (error)
				reject(error);
			var sqlExists = &#x27;SELECT id FROM &#x27; + tableModel + &#x27;  &#x27; +
					&#x27; WHERE id = &#x27; + connection.escape(fwcloudData.id) +
					&#x27; AND (locked=1 AND locked_by=&#x27; + connection.escape(fwcloudData.iduser) + &#x27;) &#x27;;
			connection.query(sqlExists, function (error, row) {
				//If exists Id from fwcloud to remove
				if (row &amp;&amp; row.length &gt; 0) {
					var sql = &#x27;UPDATE &#x27; + tableModel + &#x27; SET locked = &#x27; + connection.escape(locked) + &#x27;,&#x27; +
							&#x27;locked_at = CURRENT_TIMESTAMP ,&#x27; +
							&#x27;locked_by = &#x27; + connection.escape(fwcloudData.iduser) + &#x27; &#x27; +
							&#x27; WHERE id = &#x27; + fwcloudData.id;

					connection.query(sql, function (error, result) {
						if (error) {
							reject(error);
						} else {
							resolve({&quot;result&quot;: true});
						}
					});
				} else {
					resolve({&quot;result&quot;: false});
				}
			});
		});
	});
};

/**
 * DELETE Fwcloud
 *  
 * @method deleteFwcloud
 * 
 * @param iduser {Integer}  User identifier
 * @param id {Integer}  Fwcloud identifier
 * @param {Function} callback    Function callback response
 * 
 *       callback(error, Rows)
 * 
 * @return {CALLBACK RESPONSE}
 * 
 * @example
 * #### RESPONSE OK:
 *    
 *       callback(null, {&quot;result&quot;: true, &quot;msg&quot;: &quot;deleted&quot;});
 *       
 * #### RESPONSE ERROR:
 *    
 *       callback(null, {&quot;result&quot;: false});
 *       
 */
fwcloudModel.deleteFwcloud = (iduser, id, callback) =&gt; {
	//El FWCLOUD DEBE ESTAR VACIO SIN FIREWALLS
	db.get(function (error, connection) {
		if (error)
			callback(error, null);
		var sqlExists = &#x27;SELECT C.* FROM &#x27; + tableModel + &#x27; C &#x27; +
				&#x27; INNER JOIN user__cloud U ON C.id=U.fwcloud &#x27; +
				&#x27; WHERE U.id_user=&#x27; + connection.escape(iduser) + &#x27; AND U.allow_access=1  AND C.id= &#x27; + connection.escape(id);
		logger.debug(sqlExists);
		connection.query(sqlExists, function (error, row) {
			//If exists Id from fwcloud to remove
			if (row &amp;&amp; row.length &gt; 0) {               
				//DELETE OBJECTS FROM CLOUD
				fwcloudModel.EmptyFwcloudStandard(id)
						.then(() =&gt; {
							db.get(function (error, connection) {
								var sql = &#x27;DELETE FROM user__cloud WHERE fwcloud = &#x27; + connection.escape(id);
								connection.query(sql, function (error, result) {
									if (error) {
										callback(error, null);
									} else {
										var sql = &#x27;DELETE FROM &#x27; + tableModel + &#x27; WHERE id = &#x27; + connection.escape(id);
										connection.query(sql, function (error, result) {
											if (error) {
												callback(error, null);
											} else {
												callback(null, {&quot;result&quot;: true, &quot;msg&quot;: &quot;deleted&quot;});
											}
										});
									}
								});
							});
						})
						.catch(e =&gt; {
							callback(null, {&quot;result&quot;: false, &quot;msg&quot;: &quot;ERROR DELETING OBJECTS&quot;});
						});
			} else {
				callback(null, {&quot;result&quot;: false});
			}
		});
	});
};

fwcloudModel.EmptyFwcloudStandard = function (fwcloud) {
	return new Promise((resolve, reject) =&gt; {
		var sqlcloud = &quot;  is null&quot;;
		if (fwcloud !== null)
			sqlcloud = &quot;= &quot; + fwcloud;
		db.get(function (error, connection) {
			if (error)
				reject(error);
			connection.query(&quot;SET FOREIGN_KEY_CHECKS = 0&quot;, function (error, result) {
				if (error) {
					reject(error);
				} else {
					connection.query(&quot;DELETE I.* from  interface I inner join interface__ipobj II on II.interface=I.id inner join ipobj G On  G.id=II.ipobj where G.fwcloud&quot; + sqlcloud, function (error, result) {
						if (error) {
							reject(error);
						} else {
							connection.query(&quot;DELETE II.* from  interface__ipobj II inner join ipobj G On  G.id=II.ipobj where G.fwcloud&quot; + sqlcloud, function (error, result) {
								if (error) {
									reject(error);
								} else {
									connection.query(&quot;DELETE II.* from  ipobj__ipobjg II inner join ipobj G On  G.id=II.ipobj where G.fwcloud&quot; + sqlcloud, function (error, result) {
										if (error) {
											reject(error);
										} else {
											connection.query(&quot;DELETE  FROM ipobj_g where fwcloud&quot; + sqlcloud, function (error, result) {
												if (error) {
													reject(error);
												} else {
													connection.query(&quot;DELETE  FROM ipobj where fwcloud&quot; + sqlcloud, function (error, result) {
														if (error) {
															reject(error);
														} else {
															connection.query(&quot;DELETE  FROM ipobj where fwcloud&quot; + sqlcloud, function (error, result) {
																if (error) {
																	reject(error);
																} else {
																	connection.query(&quot;DELETE  FROM fwc_tree where fwcloud&quot; + sqlcloud, function (error, result) {
																		if (error) {
																			reject(error);
																		} else {
																			connection.query(&quot;SET FOREIGN_KEY_CHECKS = 1&quot;, function (error, result) {
																				if (error) {
																					reject(error);
																				} else {
																					resolve({&quot;result&quot;: true});
																				}
																			});
																		}
																	});
																}
															});
														}
													});
												}
											});
										}
									});
								}
							});
						}
					});
				}
			});
		});
	});
};


    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
