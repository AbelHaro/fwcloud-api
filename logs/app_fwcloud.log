[2018-04-30T12:11:57.477] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:11:57.477] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:11:57.478] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T12:11:57.478] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:11:57.485] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:11:57.486] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:11:57.486] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:11:57.487] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:11:57.526] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T12:11:57.530] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T12:11:57.532] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T12:11:57.538] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T12:11:57.540] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T12:11:57.541] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T12:11:57.543] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T12:11:57.546] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T12:11:57.547] [DEBUG] app - DETECTED FIRWEWALL NODE: 942   FIREWALL: 39 - FW-CLONZ3 [models/tree/fwc_tree.js:142]
[2018-04-30T12:11:57.563] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T12:12:00.547] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.549] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.550] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.550] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  'content-length': '2',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:00.550] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.550] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/del/firewall/39 [app.js:163]
[2018-04-30T12:12:00.551] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T12:12:00.552] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.554] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.556] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T12:12:00.556] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T12:12:00.556] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.559] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.560] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.560] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  'content-length': '2',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:00.560] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.560] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/del/firewall/39 [app.js:163]
[2018-04-30T12:12:00.560] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T12:12:00.563] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.563] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T12:12:00.563] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T12:12:00.564] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.565] [DEBUG] app - SEARCHING INTERFACE: 80 - 10  DIFF FW: 39 [models/interface/interface.js:407]
[2018-04-30T12:12:00.568] [DEBUG] app - SEARCH interface I POSITIONS IN ALL CLOUD's Firewalls:80 Type:10  fwcloud:1  Different FW: 39 [models/policy/policy_r__interface.js:696]
[2018-04-30T12:12:00.570] [DEBUG] app - SEARCHING INTERFACE: 80 - 10  DIFF FW: 39 [models/interface/interface.js:407]
[2018-04-30T12:12:00.572] [DEBUG] app - SEARCH IN RULES interface:80 Type:10  fwcloud:1  firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1118]
[2018-04-30T12:12:00.573] [DEBUG] app - SEARCH interface I POSITIONS IN ALL CLOUD's Firewalls:80 Type:10  fwcloud:1  Different FW: 39 [models/policy/policy_r__interface.js:696]
[2018-04-30T12:12:00.574] [DEBUG] app - SEARCH IPOBJ UNDER INTERFACE in RULES:80 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1477]
[2018-04-30T12:12:00.576] [DEBUG] app - SEARCH IN RULES interface:80 Type:10  fwcloud:1  firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1118]
[2018-04-30T12:12:00.577] [DEBUG] app - SEARCH INTERFACES UNDER HOST ipobj:80 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1329]
[2018-04-30T12:12:00.579] [DEBUG] app - SEARCH IPOBJ UNDER INTERFACE in RULES:80 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1477]
[2018-04-30T12:12:00.580] [DEBUG] app - SEARCHING INTERFACE: 81 - 10  DIFF FW: 39 [models/interface/interface.js:407]
[2018-04-30T12:12:00.581] [DEBUG] app - SEARCH INTERFACES UNDER HOST ipobj:80 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1329]
[2018-04-30T12:12:00.582] [DEBUG] app - SEARCH interface I POSITIONS IN ALL CLOUD's Firewalls:81 Type:10  fwcloud:1  Different FW: 39 [models/policy/policy_r__interface.js:696]
[2018-04-30T12:12:00.583] [DEBUG] app - SEARCHING INTERFACE: 82 - 10  DIFF FW: 39 [models/interface/interface.js:407]
[2018-04-30T12:12:00.584] [DEBUG] app - SEARCH IN RULES interface:81 Type:10  fwcloud:1  firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1118]
[2018-04-30T12:12:00.585] [DEBUG] app - SEARCH interface I POSITIONS IN ALL CLOUD's Firewalls:82 Type:10  fwcloud:1  Different FW: 39 [models/policy/policy_r__interface.js:696]
[2018-04-30T12:12:00.587] [DEBUG] app - SEARCH IPOBJ UNDER INTERFACE in RULES:81 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1477]
[2018-04-30T12:12:00.588] [DEBUG] app - SEARCH IN RULES interface:82 Type:10  fwcloud:1  firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1118]
[2018-04-30T12:12:00.589] [DEBUG] app - SEARCH INTERFACES UNDER HOST ipobj:81 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1329]
[2018-04-30T12:12:00.591] [DEBUG] app - SEARCH IPOBJ UNDER INTERFACE in RULES:82 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1477]
[2018-04-30T12:12:00.593] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: '',
  sessionID: 'wDElyXRmMj14fOdwrQ13uQZaO2IgNpvs' } [utils/utils.js:166]
[2018-04-30T12:12:00.594] [DEBUG] app - Restricted:  { result: true, msg: '', restrictions: '' } [utils/utils.js:167]
[2018-04-30T12:12:00.595] [DEBUG] app - SEARCH INTERFACES UNDER HOST ipobj:82 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1329]
[2018-04-30T12:12:00.595] [DEBUG] app - COMPARANDO TOKEN USER:   [models/user/user.js:158]
[2018-04-30T12:12:00.596] [DEBUG] app - CON TOKEN REQUEST:   [models/user/user.js:159]
[2018-04-30T12:12:00.596] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  wDElyXRmMj14fOdwrQ13uQZaO2IgNpvs_MUUzu33NfScgFJXmH55D [models/user/user.js:164]
[2018-04-30T12:12:00.597] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: '',
  sessionID: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC' } [utils/utils.js:166]
[2018-04-30T12:12:00.598] [DEBUG] app - Restricted:  { result: true, msg: '', restrictions: '' } [utils/utils.js:167]
[2018-04-30T12:12:00.605] [DEBUG] app - COMPARANDO TOKEN USER:  wDElyXRmMj14fOdwrQ13uQZaO2IgNpvs_MUUzu33NfScgFJXmH55D [models/user/user.js:158]
[2018-04-30T12:12:00.606] [DEBUG] app - CON TOKEN REQUEST:   [models/user/user.js:159]
[2018-04-30T12:12:00.606] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r [models/user/user.js:164]
[2018-04-30T12:12:00.672] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.673] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.674] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.675] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.677] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.678] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.678] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'wDElyXRmMj14fOdwrQ13uQZaO2IgNpvs_MUUzu33NfScgFJXmH55D',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"93d-0HcGtCenIiH4qF3mm3nlfV3ZlAg"' } [app.js:161]
[2018-04-30T12:12:00.679] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.679] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types/ [app.js:163]
[2018-04-30T12:12:00.679] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:00.680] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.681] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.681] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'wDElyXRmMj14fOdwrQ13uQZaO2IgNpvs_MUUzu33NfScgFJXmH55D',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2632-Ur08ZWnV+o8WwWVqN8scvExTXxU"' } [app.js:161]
[2018-04-30T12:12:00.681] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.681] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T12:12:00.681] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:00.682] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.682] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.682] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'wDElyXRmMj14fOdwrQ13uQZaO2IgNpvs_MUUzu33NfScgFJXmH55D',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:00.683] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.683] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types/ [app.js:163]
[2018-04-30T12:12:00.683] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:00.683] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.685] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:00.685] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:00.685] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.686] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.687] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:00.687] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:00.690] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.691] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.692] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:00.692] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:00.692] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.692] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.693] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.693] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'wDElyXRmMj14fOdwrQ13uQZaO2IgNpvs_MUUzu33NfScgFJXmH55D',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:00.693] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.693] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T12:12:00.693] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:00.705] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.705] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:00.705] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:00.705] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.732] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.735] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.736] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.736] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"93d-0HcGtCenIiH4qF3mm3nlfV3ZlAg"' } [app.js:161]
[2018-04-30T12:12:00.736] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.737] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types/ [app.js:163]
[2018-04-30T12:12:00.737] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:00.738] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.739] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:00.739] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:00.739] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.746] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.747] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.757] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.757] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.758] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2632-Ur08ZWnV+o8WwWVqN8scvExTXxU"' } [app.js:161]
[2018-04-30T12:12:00.758] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.758] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T12:12:00.758] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:00.760] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.761] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:00.761] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:00.761] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.777] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.778] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.779] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:00.779] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.779] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types/ [app.js:163]
[2018-04-30T12:12:00.780] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:00.781] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.784] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.785] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:00.785] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:00.785] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:00.786] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:00.786] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:00.786] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:00.786] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:00.787] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T12:12:00.787] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:00.789] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:00.790] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:00.790] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:00.790] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:03.297] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.298] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.298] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:03.299] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  'content-length': '2',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:03.299] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:03.299] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/del/firewall/39 [app.js:163]
[2018-04-30T12:12:03.299] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T12:12:03.300] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:03.300] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T12:12:03.300] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T12:12:03.300] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:03.304] [DEBUG] app - SEARCHING INTERFACE: 80 - 10  DIFF FW: 39 [models/interface/interface.js:407]
[2018-04-30T12:12:03.305] [DEBUG] app - SEARCH interface I POSITIONS IN ALL CLOUD's Firewalls:80 Type:10  fwcloud:1  Different FW: 39 [models/policy/policy_r__interface.js:696]
[2018-04-30T12:12:03.306] [DEBUG] app - SEARCH IN RULES interface:80 Type:10  fwcloud:1  firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1118]
[2018-04-30T12:12:03.307] [DEBUG] app - SEARCH IPOBJ UNDER INTERFACE in RULES:80 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1477]
[2018-04-30T12:12:03.308] [DEBUG] app - SEARCH INTERFACES UNDER HOST ipobj:80 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1329]
[2018-04-30T12:12:03.310] [DEBUG] app - SEARCHING INTERFACE: 81 - 10  DIFF FW: 39 [models/interface/interface.js:407]
[2018-04-30T12:12:03.312] [DEBUG] app - SEARCH interface I POSITIONS IN ALL CLOUD's Firewalls:81 Type:10  fwcloud:1  Different FW: 39 [models/policy/policy_r__interface.js:696]
[2018-04-30T12:12:03.313] [DEBUG] app - SEARCH IN RULES interface:81 Type:10  fwcloud:1  firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1118]
[2018-04-30T12:12:03.314] [DEBUG] app - SEARCH IPOBJ UNDER INTERFACE in RULES:81 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1477]
[2018-04-30T12:12:03.316] [DEBUG] app - SEARCH INTERFACES UNDER HOST ipobj:81 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1329]
[2018-04-30T12:12:03.317] [DEBUG] app - SEARCHING INTERFACE: 82 - 10  DIFF FW: 39 [models/interface/interface.js:407]
[2018-04-30T12:12:03.318] [DEBUG] app - SEARCH interface I POSITIONS IN ALL CLOUD's Firewalls:82 Type:10  fwcloud:1  Different FW: 39 [models/policy/policy_r__interface.js:696]
[2018-04-30T12:12:03.319] [DEBUG] app - SEARCH IN RULES interface:82 Type:10  fwcloud:1  firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1118]
[2018-04-30T12:12:03.320] [DEBUG] app - SEARCH IPOBJ UNDER INTERFACE in RULES:82 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1477]
[2018-04-30T12:12:03.321] [DEBUG] app - SEARCH INTERFACES UNDER HOST ipobj:82 Type:10  fwcloud:1  Firewall: null  DIFF FW: 39 [models/policy/policy_r__ipobj.js:1329]
[2018-04-30T12:12:03.323] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r',
  sessionID: 'ePysslaBuEF8zFPV017UyVbuxijodq6X' } [utils/utils.js:166]
[2018-04-30T12:12:03.323] [DEBUG] app - Restricted:  { result: true, msg: '', restrictions: '' } [utils/utils.js:167]
[2018-04-30T12:12:03.323] [DEBUG] app - COMPARANDO TOKEN USER:  Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r [models/user/user.js:158]
[2018-04-30T12:12:03.324] [DEBUG] app - CON TOKEN REQUEST:  Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r [models/user/user.js:159]
[2018-04-30T12:12:03.335] [DEBUG] app - -----> DELETING RULES FROM FIREWALL: 39 [models/policy/policy_r.js:941]
[2018-04-30T12:12:03.336] [DEBUG] app - DELETING RULE: 57  Firewall: 39  ORDER: 5 [models/policy/policy_r.js:984]
[2018-04-30T12:12:03.337] [DEBUG] app - DELETING RULE: 58  Firewall: 39  ORDER: 5 [models/policy/policy_r.js:984]
[2018-04-30T12:12:03.338] [DEBUG] app - DELETING RULE: 59  Firewall: 39  ORDER: 1 [models/policy/policy_r.js:984]
[2018-04-30T12:12:03.339] [DEBUG] app - DELETING IPOBJ FROM RULE: 57 [models/policy/policy_r__ipobj.js:694]
[2018-04-30T12:12:03.340] [DEBUG] app - DELETING IPOBJ FROM RULE: 58 [models/policy/policy_r__ipobj.js:694]
[2018-04-30T12:12:03.341] [DEBUG] app - DELETING IPOBJ FROM RULE: 59 [models/policy/policy_r__ipobj.js:694]
[2018-04-30T12:12:03.348] [DEBUG] app - DELETING INTERFACES FROM RULE: 57 [models/policy/policy_r__interface.js:417]
[2018-04-30T12:12:03.349] [DEBUG] app - DELETING INTERFACES FROM RULE: 58 [models/policy/policy_r__interface.js:417]
[2018-04-30T12:12:03.349] [DEBUG] app - DELETING INTERFACES FROM RULE: 59 [models/policy/policy_r__interface.js:417]
[2018-04-30T12:12:03.364] [DEBUG] app - -----> DELETING IPOBJ UNDER INTERFACE [models/interface/interface.js:749]
[2018-04-30T12:12:03.374] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = '1' AND id_parent=942 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.379] [DEBUG] app - -----> DELETING NODES UNDER PARENT: 942 [models/tree/fwc_tree.js:200]
[2018-04-30T12:12:03.379] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=943 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.380] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=944 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.380] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=945 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.380] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=946 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.382] [DEBUG] app - -----> DELETING NODES UNDER PARENT: 943 [models/tree/fwc_tree.js:200]
[2018-04-30T12:12:03.382] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=947 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.382] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=948 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.382] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=949 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.384] [DEBUG] app - -----> DELETING NODES UNDER PARENT: 944 [models/tree/fwc_tree.js:200]
[2018-04-30T12:12:03.384] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=950 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.384] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=951 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.385] [DEBUG] app - NODE FINAL: TO DELETE NODE:  945 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.386] [DEBUG] app - -----> DELETING NODES UNDER PARENT: 946 [models/tree/fwc_tree.js:200]
[2018-04-30T12:12:03.386] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=952 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.386] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=953 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.386] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=954 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.388] [DEBUG] app - NODE FINAL: TO DELETE NODE:  947 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.389] [DEBUG] app - NODE FINAL: TO DELETE NODE:  948 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.389] [DEBUG] app - NODE FINAL: TO DELETE NODE:  949 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.390] [DEBUG] app - NODE FINAL: TO DELETE NODE:  950 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.391] [DEBUG] app - NODE FINAL: TO DELETE NODE:  951 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.394] [DEBUG] app - DELETED NODE:  945 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.395] [DEBUG] app - -----> DELETING NODES UNDER PARENT: 952 [models/tree/fwc_tree.js:200]
[2018-04-30T12:12:03.395] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=955 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.396] [DEBUG] app - -----> DELETING NODES UNDER PARENT: 953 [models/tree/fwc_tree.js:200]
[2018-04-30T12:12:03.397] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=956 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.397] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=957 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.397] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=958 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.399] [DEBUG] app - -----> DELETING NODES UNDER PARENT: 954 [models/tree/fwc_tree.js:200]
[2018-04-30T12:12:03.399] [DEBUG] app - SELECT * FROM fwc_tree WHERE fwcloud = 1 AND id_parent=959 [models/tree/fwc_tree.js:194]
[2018-04-30T12:12:03.403] [DEBUG] app - DELETED NODE:  947 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.405] [DEBUG] app - DELETED NODE:  948 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.408] [DEBUG] app - DELETED NODE:  949 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.412] [DEBUG] app - DELETED NODE:  950 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.414] [DEBUG] app - DELETED NODE:  951 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.416] [DEBUG] app - NODE FINAL: TO DELETE NODE:  955 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.418] [DEBUG] app - NODE FINAL: TO DELETE NODE:  956 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.419] [DEBUG] app - NODE FINAL: TO DELETE NODE:  957 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.419] [DEBUG] app - NODE FINAL: TO DELETE NODE:  958 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.420] [DEBUG] app - NODE FINAL: TO DELETE NODE:  959 [models/tree/fwc_tree.js:216]
[2018-04-30T12:12:03.423] [DEBUG] app - DELETED NODE:  955 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.427] [DEBUG] app - DELETED NODE:  956 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.428] [DEBUG] app - DELETED NODE:  957 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.430] [DEBUG] app - DELETED NODE:  958 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.434] [DEBUG] app - DELETED NODE:  959 [models/tree/fwc_tree.js:221]
[2018-04-30T12:12:03.529] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.531] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.535] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.535] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:03.535] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"191f-dXFIheUVZ9iJIgeDeAEeMajbb7c"' } [app.js:161]
[2018-04-30T12:12:03.536] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:03.536] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T12:12:03.536] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:03.537] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:03.537] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:03.538] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:03.538] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:03.538] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T12:12:03.540] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T12:12:03.544] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.544] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:03.545] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'Mwg-fws4o5BqU0FSyuwAMd0MiPcX93DC_Xzl9U0nqCjhQxaW5vx1r',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"34b0-Nt6yapbpaLqe9RQ3kdeDNUSLP4g"' } [app.js:161]
[2018-04-30T12:12:03.545] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:03.545] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T12:12:03.545] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:03.548] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:03.549] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:03.549] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:03.549] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:03.550] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T12:12:03.552] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T12:12:03.556] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T12:12:03.574] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.576] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.578] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.580] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.582] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:03.582] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"93d-0HcGtCenIiH4qF3mm3nlfV3ZlAg"' } [app.js:161]
[2018-04-30T12:12:03.583] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:03.583] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types/ [app.js:163]
[2018-04-30T12:12:03.583] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:03.583] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.584] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:03.584] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:03.584] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:03.584] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types/ [app.js:163]
[2018-04-30T12:12:03.584] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:03.588] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:03.588] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:03.589] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:03.589] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:03.589] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:03.590] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:03.591] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:03.591] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:03.600] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.604] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.605] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:03.605] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2632-Ur08ZWnV+o8WwWVqN8scvExTXxU"' } [app.js:161]
[2018-04-30T12:12:03.605] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:03.605] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T12:12:03.605] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:03.608] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:03.609] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:03.610] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:03.610] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:03.610] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T12:12:03.611] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:03.612] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:03.613] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:03.613] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:03.614] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:03.617] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:03.618] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:03.618] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:03.618] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:03.634] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T12:12:03.636] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T12:12:03.637] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T12:12:03.641] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T12:12:03.642] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T12:12:03.645] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T12:12:03.646] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T12:12:03.648] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T12:12:03.649] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T12:12:12.383] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.384] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.385] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:12.385] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T12:12:12.385] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:12.385] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T12:12:12.386] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:12.387] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:12.387] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:12.387] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:12.388] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:12.442] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.447] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.448] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:12.448] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"36a-JjF/W5SyiV8xMA9r5Jnea5v2opE"' } [app.js:161]
[2018-04-30T12:12:12.448] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:12.448] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/2/type/3 [app.js:163]
[2018-04-30T12:12:12.448] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:12.449] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.450] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.451] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.453] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:12.453] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:12.453] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:12.453] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:12.454] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.455] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:12.455] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T12:12:12.455] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:12.455] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T12:12:12.455] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:12.455] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.456] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:12.456] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:12.456] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:12.456] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T12:12:12.456] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:12.456] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:12.457] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:12.457] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:12.457] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:12.457] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/2/type/3 [app.js:163]
[2018-04-30T12:12:12.457] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T12:12:12.458] [DEBUG] app - MOSTRANDO POLICY para firewall: 2  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T12:12:12.459] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:12.459] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:12.459] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:12.459] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:12.460] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:12.460] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:12.460] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:12.461] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:12.461] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:12.461] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T12:12:12.461] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T12:12:12.461] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:12.462] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='2' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T12:12:12.470] [DEBUG] app - MOSTRANDO POLICY para firewall: 2  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T12:12:12.471] [DEBUG] app - 1 ---> DENTRO de REGLA: 5 ORDER: 3 [models/policy/policy_r.js:106]
[2018-04-30T12:12:12.472] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='2' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T12:12:12.474] [DEBUG] app - 1 ---> DENTRO de REGLA: 5 ORDER: 3 [models/policy/policy_r.js:106]
[2018-04-30T12:12:20.958] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:20.961] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:20.962] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:20.962] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  'content-length': '525',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:20.962] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:20.963] [DEBUG] app - METHOD: POST   PATHNAME: /policy-r__ipobjs/policy-r__ipobj/2 [app.js:163]
[2018-04-30T12:12:20.963] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T12:12:20.964] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:20.964] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T12:12:20.965] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T12:12:20.965] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:20.971] [DEBUG] app - { rule: 5,
  ipobj: 197,
  ipobj_g: undefined,
  interface: undefined,
  position: 7,
  position_order: 1 } '[routes/policy/policy_r__ipobjs.js:89]'
[2018-04-30T12:12:20.973] [DEBUG] app - rule: 5 [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:20.973] [DEBUG] app - ipobj: 197 [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:20.973] [DEBUG] app - ipobj_g: undefined [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:20.974] [DEBUG] app - PARAMETRO UNDEFINED: ipobj_g [routes/policy/policy_r__ipobjs.js:94]
[2018-04-30T12:12:20.974] [DEBUG] app - interface: undefined [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:20.974] [DEBUG] app - PARAMETRO UNDEFINED: interface [routes/policy/policy_r__ipobjs.js:94]
[2018-04-30T12:12:20.974] [DEBUG] app - position: 7 [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:20.975] [DEBUG] app - position_order: 1 [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:20.975] [DEBUG] app - select A.allowed from ipobj O inner join ipobj_type T on O.type=T.id inner join ipobj_type__policy_position A on A.type=O.type inner join policy_position P on P.id=A.position  WHERE O.id = 197 AND A.position=7  AND P.content="O" [models/policy/policy_r__ipobj.js:543]
[2018-04-30T12:12:20.977] [DEBUG] app - ALLOWED: 1 [models/policy/policy_r__ipobj.js:550]
[2018-04-30T12:12:20.982] [DEBUG] app - ---> ORDENANDO RULE : 5 IPOBJ:197 Interface:-1 IPOBJ_G:-1  POSITION: 7  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:496]
[2018-04-30T12:12:20.982] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 5 AND position=7 AND position_order>=1 AND position_order<=999999 AND ipobj<>197 [models/policy/policy_r__ipobj.js:511]
[2018-04-30T12:12:20.988] [DEBUG] app - ---------- COMPILING RULE  Rule: 5 FWCloud: 1  Firewall: 2  Type: 3
 ------- [models/policy/policy_r.js:1046]
[2018-04-30T12:12:20.989] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T12:12:20.990] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:20.991] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 1  MSG: COMPILING RULE 5 COMPILATION PROCESS
 [routes/stream/stream.js:60]
[2018-04-30T12:12:20.992] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:20.992] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 1  MSG: COMPILING RULE 5 COMPILATION PROCESS
 [routes/stream/stream.js:60]
[2018-04-30T12:12:21.022] [DEBUG] app - ---------------------------------------------------> FINAL de REGLAS <---- [models/policy/policy_r.js:352]
[2018-04-30T12:12:21.025] [DEBUG] app - ---- RULE COMPILED --->   [models/policy/policy_r.js:1053]
[2018-04-30T12:12:21.025] [DEBUG] app - $IPTABLES -A FORWARD -i B3 -j DROP
 [models/policy/policy_r.js:1054]
[2018-04-30T12:12:21.025] [DEBUG] app - ----------------------- [models/policy/policy_r.js:1055]
[2018-04-30T12:12:21.025] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T12:12:21.025] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T12:12:21.026] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T12:12:21.029] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:21.029] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 2  MSG: RULE 5  COMPILED
 [routes/stream/stream.js:60]
[2018-04-30T12:12:21.030] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:21.030] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 3  MSG: 
$IPTABLES -A FORWARD -i B3 -j DROP
 
 [routes/stream/stream.js:60]
[2018-04-30T12:12:21.030] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:21.030] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 4  MSG: 
COMPILATION COMPLETED

 [routes/stream/stream.js:60]
[2018-04-30T12:12:21.031] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:21.031] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 2  MSG: RULE 5  COMPILED
 [routes/stream/stream.js:60]
[2018-04-30T12:12:21.032] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:21.032] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 3  MSG: 
$IPTABLES -A FORWARD -i B3 -j DROP
 
 [routes/stream/stream.js:60]
[2018-04-30T12:12:21.032] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:21.033] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 4  MSG: 
COMPILATION COMPLETED

 [routes/stream/stream.js:60]
[2018-04-30T12:12:21.033] [DEBUG] app - CREADA nueva RULE COMPILED: 0 [models/policy/policy_c.js:118]
[2018-04-30T12:12:23.282] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:23.285] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T12:12:23.285] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T12:12:23.286] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  'content-length': '527',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T12:12:23.286] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T12:12:23.286] [DEBUG] app - METHOD: POST   PATHNAME: /policy-r__ipobjs/policy-r__ipobj/2 [app.js:163]
[2018-04-30T12:12:23.286] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T12:12:23.288] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T12:12:23.289] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T12:12:23.289] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T12:12:23.289] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T12:12:23.295] [DEBUG] app - { rule: 5,
  ipobj: 196,
  ipobj_g: undefined,
  interface: undefined,
  position: 8,
  position_order: 1 } '[routes/policy/policy_r__ipobjs.js:89]'
[2018-04-30T12:12:23.296] [DEBUG] app - rule: 5 [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:23.296] [DEBUG] app - ipobj: 196 [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:23.296] [DEBUG] app - ipobj_g: undefined [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:23.296] [DEBUG] app - PARAMETRO UNDEFINED: ipobj_g [routes/policy/policy_r__ipobjs.js:94]
[2018-04-30T12:12:23.296] [DEBUG] app - interface: undefined [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:23.297] [DEBUG] app - PARAMETRO UNDEFINED: interface [routes/policy/policy_r__ipobjs.js:94]
[2018-04-30T12:12:23.297] [DEBUG] app - position: 8 [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:23.297] [DEBUG] app - position_order: 1 [routes/policy/policy_r__ipobjs.js:92]
[2018-04-30T12:12:23.297] [DEBUG] app - select A.allowed from ipobj O inner join ipobj_type T on O.type=T.id inner join ipobj_type__policy_position A on A.type=O.type inner join policy_position P on P.id=A.position  WHERE O.id = 196 AND A.position=8  AND P.content="O" [models/policy/policy_r__ipobj.js:543]
[2018-04-30T12:12:23.298] [DEBUG] app - ALLOWED: 1 [models/policy/policy_r__ipobj.js:550]
[2018-04-30T12:12:23.303] [DEBUG] app - ---> ORDENANDO RULE : 5 IPOBJ:196 Interface:-1 IPOBJ_G:-1  POSITION: 8  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:496]
[2018-04-30T12:12:23.303] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 5 AND position=8 AND position_order>=1 AND position_order<=999999 AND ipobj<>196 [models/policy/policy_r__ipobj.js:511]
[2018-04-30T12:12:23.306] [DEBUG] app - ---------- COMPILING RULE  Rule: 5 FWCloud: 1  Firewall: 2  Type: 3
 ------- [models/policy/policy_r.js:1046]
[2018-04-30T12:12:23.306] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T12:12:23.308] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:23.308] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 5  MSG: COMPILING RULE 5 COMPILATION PROCESS
 [routes/stream/stream.js:60]
[2018-04-30T12:12:23.309] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:23.309] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 5  MSG: COMPILING RULE 5 COMPILATION PROCESS
 [routes/stream/stream.js:60]
[2018-04-30T12:12:23.327] [DEBUG] app - ---------------------------------------------------> FINAL de REGLAS <---- [models/policy/policy_r.js:352]
[2018-04-30T12:12:23.328] [DEBUG] app - ---- RULE COMPILED --->   [models/policy/policy_r.js:1053]
[2018-04-30T12:12:23.328] [DEBUG] app - $IPTABLES -A FORWARD -i B3 -o C33 -j DROP
 [models/policy/policy_r.js:1054]
[2018-04-30T12:12:23.328] [DEBUG] app - ----------------------- [models/policy/policy_r.js:1055]
[2018-04-30T12:12:23.328] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T12:12:23.329] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T12:12:23.329] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T12:12:23.330] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:23.331] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 6  MSG: RULE 5  COMPILED
 [routes/stream/stream.js:60]
[2018-04-30T12:12:23.331] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:23.332] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 7  MSG: 
$IPTABLES -A FORWARD -i B3 -o C33 -j DROP
 
 [routes/stream/stream.js:60]
[2018-04-30T12:12:23.332] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:23.332] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 8  MSG: 
COMPILATION COMPLETED

 [routes/stream/stream.js:60]
[2018-04-30T12:12:23.333] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:23.334] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 6  MSG: RULE 5  COMPILED
 [routes/stream/stream.js:60]
[2018-04-30T12:12:23.334] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:23.334] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 7  MSG: 
$IPTABLES -A FORWARD -i B3 -o C33 -j DROP
 
 [routes/stream/stream.js:60]
[2018-04-30T12:12:23.335] [DEBUG] app - CHANNEL: 1-XXXXX-compile_rule [routes/stream/stream.js:59]
[2018-04-30T12:12:23.335] [DEBUG] app - RECEIVING STREAMING COMPILE DATA: 8  MSG: 
COMPILATION COMPLETED

 [routes/stream/stream.js:60]
[2018-04-30T12:28:37.374] [DEBUG] app - OK CHECKLOCK: true [app.js:330]
[2018-04-30T12:28:37.376] [INFO] app - -----> UNLOCK FWCLOUD: 1 BY TIMEOT INACTIVITY of 16  Min LAST UPDATE: Mon Apr 30 2018 12:12:23 GMT+0200 (CEST)  LAST LOCK: Mon Apr 30 2018 12:08:30 GMT+0200 (CEST)  BY: 1 [models/fwcloud/fwcloud.js:205]
[2018-04-30T13:03:46.447] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T13:03:49.019] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:03:49.027] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [routes/stream/stream.js:30]
[2018-04-30T13:03:49.032] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:03:49.033] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:03:49.033] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:03:49.033] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:03:49.034] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T13:03:49.034] [DEBUG] app - REQUESTING SUBSCRIPTON STREAMING COMPILE DATA. CHANNEL : 1-XXXXX-compile_rule [routes/stream/stream.js:45]
[2018-04-30T13:03:49.039] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:03:49.040] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [routes/stream/stream.js:30]
[2018-04-30T13:03:49.042] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:03:49.043] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:03:49.043] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:03:49.043] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:03:49.044] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T13:03:49.044] [DEBUG] app - REQUESTING SUBSCRIPTON STREAMING COMPILE DATA. CHANNEL : 1-XXXXX-compile_rule [routes/stream/stream.js:45]
[2018-04-30T13:06:36.343] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T13:06:39.919] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:06:39.926] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [routes/stream/stream.js:30]
[2018-04-30T13:06:39.930] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:06:39.931] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:06:39.931] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:06:39.931] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:06:39.931] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T13:06:39.932] [DEBUG] app - REQUESTING SUBSCRIPTON STREAMING COMPILE DATA. CHANNEL : 1-XXXXX-compile_rule [routes/stream/stream.js:45]
[2018-04-30T13:06:39.936] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:06:39.936] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [routes/stream/stream.js:30]
[2018-04-30T13:06:39.939] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:06:39.939] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:06:39.939] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:06:39.939] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:06:39.940] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T13:06:39.940] [DEBUG] app - REQUESTING SUBSCRIPTON STREAMING COMPILE DATA. CHANNEL : 1-XXXXX-compile_rule [routes/stream/stream.js:45]
[2018-04-30T13:09:02.869] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:09:02.874] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:02.874] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'ZPVNmLGR_7RixP_dJre9FuZN_3BZkoXO_NQqNgNbDvFU5MnHX8feZ',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '82a941ac-ee63-4409-936e-0855dbdda30f',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '59',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:02.877] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:02.877] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:09:02.877] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:09:02.879] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:02.879] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:09:02.881] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:02.882] [DEBUG] app - TABLE fwcloud LOCKED [db.js:74]
[2018-04-30T13:09:02.883] [DEBUG] app - START TX [db.js:95]
[2018-04-30T13:09:02.885] [DEBUG] app - SELECT C.id FROM fwcloud C  INNER JOIN user__cloud U on U.fwcloud=C.id AND U.id_user='1' WHERE C.id = '1' AND U.allow_access=1 AND U.allow_edit=1  [models/fwcloud/fwcloud.js:402]
[2018-04-30T13:09:02.887] [DEBUG] app - UPDATE fwcloud SET locked = 1,locked_at = CURRENT_TIMESTAMP ,locked_by = '1'  WHERE id = 1 [models/fwcloud/fwcloud.js:410]
[2018-04-30T13:09:02.889] [INFO] app - FWCLOUD: 1  LOCKED BY USER: 1 [utils/utils.js:109]
[2018-04-30T13:09:02.889] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and GET LOCKED  [utils/utils.js:110]
[2018-04-30T13:09:02.896] [DEBUG] app - END TX [db.js:114]
[2018-04-30T13:09:02.907] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'ZPVNmLGR_7RixP_dJre9FuZN_3BZkoXO_NQqNgNbDvFU5MnHX8feZ',
  sessionID: 'MpdPoRLqqkMCzygoC5OWDm40bau7NSy3' } [utils/utils.js:166]
[2018-04-30T13:09:02.908] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:09:02.911] [DEBUG] app - COMPARANDO TOKEN USER:   [models/user/user.js:158]
[2018-04-30T13:09:02.913] [DEBUG] app - CON TOKEN REQUEST:  ZPVNmLGR_7RixP_dJre9FuZN_3BZkoXO_NQqNgNbDvFU5MnHX8feZ [models/user/user.js:159]
[2018-04-30T13:09:02.914] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  MpdPoRLqqkMCzygoC5OWDm40bau7NSy3_83Op5XINRlaWHyM96tqx [models/user/user.js:164]
[2018-04-30T13:09:14.419] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:09:14.420] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:14.420] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'MpdPoRLqqkMCzygoC5OWDm40bau7NSy3_83Op5XINRlaWHyM96tqx',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': 'f2498e11-5ecc-4c50-9e17-3638a19369d6',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '59',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:14.421] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:14.421] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:09:14.421] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:09:14.423] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:14.423] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:09:14.423] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:09:14.424] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:14.433] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'MpdPoRLqqkMCzygoC5OWDm40bau7NSy3_83Op5XINRlaWHyM96tqx',
  sessionID: 'ZFzuLOlhWizoE8x0TcTf1Gzz-akXalGE' } [utils/utils.js:166]
[2018-04-30T13:09:14.434] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:09:14.435] [DEBUG] app - COMPARANDO TOKEN USER:  MpdPoRLqqkMCzygoC5OWDm40bau7NSy3_83Op5XINRlaWHyM96tqx [models/user/user.js:158]
[2018-04-30T13:09:14.435] [DEBUG] app - CON TOKEN REQUEST:  MpdPoRLqqkMCzygoC5OWDm40bau7NSy3_83Op5XINRlaWHyM96tqx [models/user/user.js:159]
[2018-04-30T13:09:14.444] [DEBUG] app - { id: '2',
  name: 'FW-CLONZ6',
  comment: 'Esto es una clonacion',
  fwcloud: '1',
  by_user: '1' } '[routes/firewall/firewalls.js:726]'
[2018-04-30T13:09:14.445] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = '2' AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T13:09:14.446] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FW-CLONZ6', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 2 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T13:09:14.463] [DEBUG] app - NUEVO FIREWALL CREADO: 42 [routes/firewall/firewalls.js:734]
[2018-04-30T13:09:14.464] [DEBUG] app -  select 42 as newfirewall, I.*  from interface I  where I.firewall='2' [models/interface/interface.js:625]
[2018-04-30T13:09:14.474] [DEBUG] app -  select 89 as newinterface, O.*  from ipobj O  where O.interface=5 [models/interface/interface.js:675]
[2018-04-30T13:09:14.491] [DEBUG] app -  select 90 as newinterface, O.*  from ipobj O  where O.interface=6 [models/interface/interface.js:675]
[2018-04-30T13:09:14.499] [DEBUG] app -  select 91 as newinterface, O.*  from ipobj O  where O.interface=7 [models/interface/interface.js:675]
[2018-04-30T13:09:14.515] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 89 [models/interface/interface.js:684]
[2018-04-30T13:09:14.541] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 90 [models/interface/interface.js:684]
[2018-04-30T13:09:14.548] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 91 [models/interface/interface.js:684]
[2018-04-30T13:09:14.549] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 42 [models/interface/interface.js:634]
[2018-04-30T13:09:14.551] [DEBUG] app -  select 42 as newfirewall, P.*  from policy_r P  where P.firewall='2' [models/policy/policy_r.js:556]
[2018-04-30T13:09:14.562] [DEBUG] app -  select 42 as newfirewall, 66 as newrule, O.*  from policy_r__ipobj O  where O.rule=4 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:09:14.570] [DEBUG] app -  select 42 as newfirewall, 67 as newrule, O.*  from policy_r__ipobj O  where O.rule=5 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:09:14.578] [DEBUG] app -  select 42 as newfirewall, 68 as newrule, O.*  from policy_r__ipobj O  where O.rule=56 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:09:14.588] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 42,
  newrule: 66,
  id_pi: 2,
  rule: 4,
  ipobj: 4,
  ipobj_g: -1,
  interface: -1,
  position: 2,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:29.000Z,
  updated_at: 2018-04-27T14:03:29.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:09:14.589] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 42,
  newrule: 66,
  id_pi: 1,
  rule: 4,
  ipobj: 5,
  ipobj_g: -1,
  interface: -1,
  position: 1,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:21.000Z,
  updated_at: 2018-04-27T14:03:21.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:09:14.599] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 42,
  newrule: 67,
  id_pi: 54,
  rule: 5,
  ipobj: 196,
  ipobj_g: -1,
  interface: -1,
  position: 8,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:23.000Z,
  updated_at: 2018-04-30T10:12:23.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:09:14.600] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 42,
  newrule: 67,
  id_pi: 53,
  rule: 5,
  ipobj: 197,
  ipobj_g: -1,
  interface: -1,
  position: 7,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:20.000Z,
  updated_at: 2018-04-30T10:12:20.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:09:14.606] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 42,
  newrule: 68,
  id_pi: 43,
  rule: 56,
  ipobj: -1,
  ipobj_g: -1,
  interface: 7,
  position: 12,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:10.000Z,
  updated_at: 2018-04-30T09:46:10.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:09:14.607] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 42,
  newrule: 68,
  id_pi: 42,
  rule: 56,
  ipobj: 3,
  ipobj_g: -1,
  interface: -1,
  position: 11,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:02.000Z,
  updated_at: 2018-04-30T09:46:02.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:09:14.623] [DEBUG] app - ---> ORDENANDO RULE : 66 IPOBJ:4 Interface:-1 IPOBJ_G:-1  POSITION: 2  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:517]
[2018-04-30T13:09:14.624] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 66 AND position=2 AND position_order>=1 AND position_order<=999999 AND ipobj<>4 [models/policy/policy_r__ipobj.js:532]
[2018-04-30T13:09:14.645] [DEBUG] app - ---> ORDENANDO RULE : 66 IPOBJ:5 Interface:-1 IPOBJ_G:-1  POSITION: 1  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:517]
[2018-04-30T13:09:14.645] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 66 AND position=1 AND position_order>=1 AND position_order<=999999 AND ipobj<>5 [models/policy/policy_r__ipobj.js:532]
[2018-04-30T13:09:14.647] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 66 [models/policy/policy_r.js:623]
[2018-04-30T13:09:14.647] [DEBUG] app - -------> SQL ALL INTERFACES:   select 66 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=4 AND I.firewall= 42 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:09:14.653] [DEBUG] app - ---> ORDENANDO RULE : 67 IPOBJ:196 Interface:-1 IPOBJ_G:-1  POSITION: 8  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:517]
[2018-04-30T13:09:14.653] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 67 AND position=8 AND position_order>=1 AND position_order<=999999 AND ipobj<>196 [models/policy/policy_r__ipobj.js:532]
[2018-04-30T13:09:14.660] [DEBUG] app - ---> ORDENANDO RULE : 67 IPOBJ:197 Interface:-1 IPOBJ_G:-1  POSITION: 7  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:517]
[2018-04-30T13:09:14.661] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 67 AND position=7 AND position_order>=1 AND position_order<=999999 AND ipobj<>197 [models/policy/policy_r__ipobj.js:532]
[2018-04-30T13:09:14.663] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 67 [models/policy/policy_r.js:623]
[2018-04-30T13:09:14.663] [DEBUG] app - -------> SQL ALL INTERFACES:   select 67 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=5 AND I.firewall= 42 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:09:14.666] [DEBUG] app - ---> ORDENANDO RULE : 68 IPOBJ:-1 Interface:91 IPOBJ_G:-1  POSITION: 12  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:517]
[2018-04-30T13:09:14.667] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 68 AND position=12 AND position_order>=1 AND position_order<=999999 AND interface<>91 [models/policy/policy_r__ipobj.js:532]
[2018-04-30T13:09:14.672] [DEBUG] app - ---> ORDENANDO RULE : 68 IPOBJ:3 Interface:-1 IPOBJ_G:-1  POSITION: 11  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:517]
[2018-04-30T13:09:14.672] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 68 AND position=11 AND position_order>=1 AND position_order<=999999 AND ipobj<>3 [models/policy/policy_r__ipobj.js:532]
[2018-04-30T13:09:14.674] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 68 [models/policy/policy_r.js:623]
[2018-04-30T13:09:14.674] [DEBUG] app - -------> SQL ALL INTERFACES:   select 68 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=56 AND I.firewall= 42 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:09:14.680] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 67 [models/policy/policy_r.js:642]
[2018-04-30T13:09:14.683] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 68 [models/policy/policy_r.js:642]
[2018-04-30T13:09:14.693] [DEBUG] app - ---> ORDENANDO RULE INTERFACE: 66 POSITION: 20  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__interface.js:300]
[2018-04-30T13:09:14.693] [DEBUG] app - UPDATE policy_r__interface SET position_order = position_order+1 WHERE rule = 66 AND position=20 AND position_order>=1 AND position_order<=999999 AND interface<>90 [models/policy/policy_r__interface.js:310]
[2018-04-30T13:09:14.694] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 66 [models/policy/policy_r.js:642]
[2018-04-30T13:09:14.694] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 42 [models/policy/policy_r.js:565]
[2018-04-30T13:09:14.700] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id= 42 [models/tree/fwc_tree.js:560]
[2018-04-30T13:09:14.728] [DEBUG] app - INSERT FIREWALL OK NODE: 42 - FW-CLONZ6  --> FWCTREE: 978 [models/tree/fwc_tree.js:586]
[2018-04-30T13:09:14.728] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("FILTER POLICIES","",978,1,3,"FP",0,0,42,0,1,1) [models/tree/fwc_tree.js:594]
[2018-04-30T13:09:14.729] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",978,2,3,"NT",0,0,42,0,1,1) [models/tree/fwc_tree.js:634]
[2018-04-30T13:09:14.734] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 979 [models/tree/fwc_tree.js:600]
[2018-04-30T13:09:14.734] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("INPUT","",979,1,4,"PI",0,0,42,1,1,1,1) [models/tree/fwc_tree.js:604]
[2018-04-30T13:09:14.735] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",979,2,4,"PO",0,0,42,2,1,1,1) [models/tree/fwc_tree.js:612]
[2018-04-30T13:09:14.735] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",979,3,4,"PF",0,0,42,3,1,1,1) [models/tree/fwc_tree.js:620]
[2018-04-30T13:09:14.742] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("SNAT","",980,1,4,"NTS",0,0,42,4,1,1,0) [models/tree/fwc_tree.js:643]
[2018-04-30T13:09:14.742] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",980,2,4,"NTD",0,0,42,5,1,1,0) [models/tree/fwc_tree.js:651]
[2018-04-30T13:09:27.722] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:27.726] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:27.727] [DEBUG] app - LOGIN: customer=1, user=fwcadmin [routes/user/users.js:34]
[2018-04-30T13:09:28.530] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:28.532] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:28.539] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:28.547] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/cloud/select',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:28.547] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:28.547] [DEBUG] app - METHOD: GET   PATHNAME: /fwclouds [app.js:163]
[2018-04-30T13:09:28.547] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: []   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:28.548] [DEBUG] app - FWCLOUD ACCESS INITIAL CLOUDS [app.js:203]
[2018-04-30T13:09:28.550] [DEBUG] app - SELECT distinctrow C.* FROM fwcloud C   INNER JOIN user__cloud U ON C.id=U.fwcloud  WHERE U.id_user='1' AND U.allow_access=1 ORDER BY C.name [models/fwcloud/fwcloud.js:74]
[2018-04-30T13:09:31.898] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:31.900] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.029] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.030] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [routes/stream/stream.js:30]
[2018-04-30T13:09:32.038] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.038] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.038] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.039] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.039] [DEBUG] app - TAG PUBLISH: [1-XXXXX-compile_rule] [models/stream/stream.js:82]
[2018-04-30T13:09:32.039] [DEBUG] app - REQUESTING SUBSCRIPTON STREAMING COMPILE DATA. CHANNEL : 1-XXXXX-compile_rule [routes/stream/stream.js:45]
[2018-04-30T13:09:32.047] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.052] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.156] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:32.156] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"175-lJNNZjRPx1Fknri9saG+Nk20Xwc"' } [app.js:161]
[2018-04-30T13:09:32.156] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:32.157] [DEBUG] app - METHOD: GET   PATHNAME: /fwclouds [app.js:163]
[2018-04-30T13:09:32.157] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:32.161] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.161] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.161] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.162] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.167] [DEBUG] app - SELECT distinctrow C.* FROM fwcloud C   INNER JOIN user__cloud U ON C.id=U.fwcloud  WHERE U.id_user='1' AND U.allow_access=1 ORDER BY C.name [models/fwcloud/fwcloud.js:74]
[2018-04-30T13:09:32.197] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.202] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.215] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.219] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.250] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.255] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.312] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:32.312] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:32.312] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:32.312] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:09:32.312] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:32.314] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.315] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.315] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.315] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.330] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.340] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.343] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.350] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.357] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.362] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:32.459] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:32.459] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:32.459] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:32.459] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types/ [app.js:163]
[2018-04-30T13:09:32.459] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:32.466] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.466] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.467] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.467] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.475] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:32.476] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:32.476] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:32.476] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T13:09:32.476] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:32.478] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.478] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.478] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.478] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.516] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:32.516] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:32.518] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:32.518] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T13:09:32.518] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:32.520] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.520] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.520] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.521] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.522] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:09:32.534] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:09:32.547] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:09:32.587] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:09:32.589] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T13:09:32.590] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T13:09:32.592] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T13:09:32.594] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T13:09:32.595] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T13:09:32.610] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:09:32.611] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T13:09:32.613] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:32.613] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:32.613] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:32.613] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T13:09:32.613] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:32.614] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:09:32.616] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.617] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.617] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.617] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.617] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:09:32.621] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:09:32.626] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:32.627] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:32.627] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:32.627] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/objects/1/1 [app.js:163]
[2018-04-30T13:09:32.627] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:32.629] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:32.629] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:32.629] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:32.630] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/services/1/1 [app.js:163]
[2018-04-30T13:09:32.630] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:32.632] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.633] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.633] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.633] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.634] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDO' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:09:32.636] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:32.637] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:32.637] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:32.637] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:32.638] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDS' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:09:32.799] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T13:09:40.980] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:40.982] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:41.234] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:41.234] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:09:41.235] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:41.235] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:09:41.235] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:41.236] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:41.236] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:41.236] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:41.236] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:41.274] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:41.277] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:41.278] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:41.280] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:41.529] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:41.529] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:41.529] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:41.529] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/42/type/1 [app.js:163]
[2018-04-30T13:09:41.530] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:41.530] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:41.531] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:41.531] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:41.531] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:41.534] [DEBUG] app - MOSTRANDO POLICY para firewall: 42  TYPE:1 [routes/policy/policy_rs.js:50]
[2018-04-30T13:09:41.537] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:41.537] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:41.538] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:41.538] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:09:41.538] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:41.539] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='42' AND  P.type= 1 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:09:41.540] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:41.540] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:41.540] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:41.541] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:41.544] [DEBUG] app - 1 ---> DENTRO de REGLA: 66 ORDER: 5 [models/policy/policy_r.js:106]
[2018-04-30T13:09:41.552] [DEBUG] app - BUCLE REGLA:66  POSITION:1  IPOBJ ID: 5  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:09:41.555] [DEBUG] app - BUCLE REGLA:66  POSITION:2  IPOBJ ID: 4  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:09:41.558] [DEBUG] app - BUCLE REGLA:66  POSITION:20  IPOBJ ID: 90  IPOBJ_GROUP: 0  TYPE: I  INTERFACE:0   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:09:43.544] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:43.547] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:43.800] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:43.800] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:09:43.800] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:43.801] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:09:43.801] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:43.802] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:43.802] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:43.802] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:43.802] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:43.841] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:43.843] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:43.844] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:43.845] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:44.097] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:44.097] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:44.097] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:44.097] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/42/type/2 [app.js:163]
[2018-04-30T13:09:44.098] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:44.098] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:44.098] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:09:44.098] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:44.099] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:09:44.099] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:44.099] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:44.101] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:44.101] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:44.101] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:44.102] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:44.104] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:44.104] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:44.104] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:44.114] [DEBUG] app - MOSTRANDO POLICY para firewall: 42  TYPE:2 [routes/policy/policy_rs.js:50]
[2018-04-30T13:09:44.118] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='42' AND  P.type= 2 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:09:44.119] [DEBUG] app - NO HAY REGLAS [models/policy/policy_r.js:290]
[2018-04-30T13:09:46.083] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:46.085] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:46.336] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:46.336] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:09:46.337] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:46.338] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:09:46.338] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:46.339] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:46.339] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:46.339] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:46.339] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:46.383] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:46.386] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:46.388] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:46.390] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:09:46.638] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:46.639] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:09:46.639] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:46.639] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/42/type/3 [app.js:163]
[2018-04-30T13:09:46.639] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:46.640] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:46.640] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:46.641] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:46.641] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:46.642] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:09:46.642] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:09:46.642] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:09:46.642] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:09:46.642] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:09:46.644] [DEBUG] app - MOSTRANDO POLICY para firewall: 42  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T13:09:46.644] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:09:46.645] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:09:46.645] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:09:46.645] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:09:46.646] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='42' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:09:46.650] [DEBUG] app - 1 ---> DENTRO de REGLA: 67 ORDER: 5 [models/policy/policy_r.js:106]
[2018-04-30T13:09:46.652] [DEBUG] app - BUCLE REGLA:67  POSITION:7  IPOBJ ID: 197  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:09:46.654] [DEBUG] app - BUCLE REGLA:67  POSITION:8  IPOBJ ID: 196  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:10:14.549] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:14.552] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:14.805] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:14.805] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:10:14.805] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:14.805] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:10:14.805] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:14.806] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:14.807] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:14.807] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:14.807] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:14.839] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:14.842] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:14.843] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:14.845] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:15.096] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:15.096] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:10:15.097] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:15.097] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/2/type/2 [app.js:163]
[2018-04-30T13:10:15.097] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:15.098] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:15.098] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:10:15.098] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:15.098] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:10:15.098] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:15.099] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:15.099] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:15.099] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:15.100] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:15.101] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:15.101] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:15.102] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:15.102] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:15.104] [DEBUG] app - MOSTRANDO POLICY para firewall: 2  TYPE:2 [routes/policy/policy_rs.js:50]
[2018-04-30T13:10:15.108] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='2' AND  P.type= 2 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:10:15.109] [DEBUG] app - NO HAY REGLAS [models/policy/policy_r.js:290]
[2018-04-30T13:10:16.639] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:16.642] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:16.895] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:16.895] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:10:16.895] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:16.895] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:10:16.895] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:16.896] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:16.898] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:16.898] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:16.898] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:16.926] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:16.929] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:16.931] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:16.933] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:17.185] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:17.185] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:10:17.185] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:17.185] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/2/type/1 [app.js:163]
[2018-04-30T13:10:17.186] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:17.187] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:17.188] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:10:17.188] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:17.188] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:10:17.188] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:17.189] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:17.189] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:17.190] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:17.190] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:17.190] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:17.191] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:17.191] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:17.191] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:17.195] [DEBUG] app - MOSTRANDO POLICY para firewall: 2  TYPE:1 [routes/policy/policy_rs.js:50]
[2018-04-30T13:10:17.199] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='2' AND  P.type= 1 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:10:17.201] [DEBUG] app - 1 ---> DENTRO de REGLA: 4 ORDER: 3 [models/policy/policy_r.js:106]
[2018-04-30T13:10:17.205] [DEBUG] app - BUCLE REGLA:4  POSITION:1  IPOBJ ID: 5  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:10:17.207] [DEBUG] app - BUCLE REGLA:4  POSITION:2  IPOBJ ID: 4  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:10:17.209] [DEBUG] app - BUCLE REGLA:4  POSITION:20  IPOBJ ID: 6  IPOBJ_GROUP: 0  TYPE: I  INTERFACE:0   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:10:19.570] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:19.572] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:19.823] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:19.823] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:10:19.824] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:19.824] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:10:19.824] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:19.825] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:19.825] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:19.826] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:19.826] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:19.847] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:19.849] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:19.851] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:19.852] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:20.104] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:20.104] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"a0-5Uk4ITJ4h4mjSPbKgv3bg9NStFA"' } [app.js:161]
[2018-04-30T13:10:20.104] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:20.104] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/2/type/2 [app.js:163]
[2018-04-30T13:10:20.104] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:20.105] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:20.105] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:10:20.105] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:20.105] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:10:20.106] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:20.106] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:20.106] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:20.106] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:20.106] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:20.107] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:20.107] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:20.107] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:20.107] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:20.111] [DEBUG] app - MOSTRANDO POLICY para firewall: 2  TYPE:2 [routes/policy/policy_rs.js:50]
[2018-04-30T13:10:20.116] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='2' AND  P.type= 2 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:10:20.117] [DEBUG] app - NO HAY REGLAS [models/policy/policy_r.js:290]
[2018-04-30T13:10:21.692] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:21.694] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:21.945] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:21.945] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:10:21.946] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:21.946] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:10:21.946] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:21.947] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:21.947] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:21.947] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:21.947] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:21.968] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:21.970] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:21.971] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:21.973] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:10:22.224] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:22.224] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:10:22.225] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:22.225] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/2/type/3 [app.js:163]
[2018-04-30T13:10:22.225] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:22.225] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:10:22.225] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:10:22.226] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:10:22.226] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:10:22.226] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:10:22.226] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:22.227] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:22.227] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:22.227] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:22.228] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:10:22.228] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:10:22.228] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:10:22.229] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:10:22.231] [DEBUG] app - MOSTRANDO POLICY para firewall: 2  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T13:10:22.234] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='2' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:10:22.237] [DEBUG] app - 1 ---> DENTRO de REGLA: 5 ORDER: 3 [models/policy/policy_r.js:106]
[2018-04-30T13:10:22.239] [DEBUG] app - BUCLE REGLA:5  POSITION:7  IPOBJ ID: 197  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:10:22.241] [DEBUG] app - BUCLE REGLA:5  POSITION:8  IPOBJ ID: 196  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:11:31.653] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T13:11:47.113] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:11:47.120] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:11:47.120] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'MpdPoRLqqkMCzygoC5OWDm40bau7NSy3_83Op5XINRlaWHyM96tqx',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '09a10fa6-d857-4093-9595-b6099f7bedc8',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '59',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:11:47.122] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:11:47.122] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:11:47.123] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:11:47.129] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:11:47.130] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:11:47.130] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:11:47.131] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:11:47.137] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'MpdPoRLqqkMCzygoC5OWDm40bau7NSy3_83Op5XINRlaWHyM96tqx',
  sessionID: 'tMklLxgRHUBTfIBvksPaCQi394dd37El' } [utils/utils.js:166]
[2018-04-30T13:11:47.138] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:11:47.139] [DEBUG] app - COMPARANDO TOKEN USER:   [models/user/user.js:158]
[2018-04-30T13:11:47.139] [DEBUG] app - CON TOKEN REQUEST:  MpdPoRLqqkMCzygoC5OWDm40bau7NSy3_83Op5XINRlaWHyM96tqx [models/user/user.js:159]
[2018-04-30T13:11:47.139] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  tMklLxgRHUBTfIBvksPaCQi394dd37El_ogxLM10CvVps4iOzlWRy [models/user/user.js:164]
[2018-04-30T13:12:02.246] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:12:02.249] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:12:02.249] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'tMklLxgRHUBTfIBvksPaCQi394dd37El_ogxLM10CvVps4iOzlWRy',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '3cff8b2a-4606-434b-8b7e-c8d7f640b00e',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '59',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:12:02.249] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:12:02.249] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:12:02.249] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:12:02.250] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:12:02.251] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:12:02.251] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:12:02.251] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:12:02.271] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'tMklLxgRHUBTfIBvksPaCQi394dd37El_ogxLM10CvVps4iOzlWRy',
  sessionID: 'ijocwmITdOk1TQuDiC_AzTpU6ejmbSHO' } [utils/utils.js:166]
[2018-04-30T13:12:02.272] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:12:02.274] [DEBUG] app - COMPARANDO TOKEN USER:  tMklLxgRHUBTfIBvksPaCQi394dd37El_ogxLM10CvVps4iOzlWRy [models/user/user.js:158]
[2018-04-30T13:12:02.274] [DEBUG] app - CON TOKEN REQUEST:  tMklLxgRHUBTfIBvksPaCQi394dd37El_ogxLM10CvVps4iOzlWRy [models/user/user.js:159]
[2018-04-30T13:12:02.278] [DEBUG] app - { id: '2',
  name: 'FW-CLONZ7',
  comment: 'Esto es una clonacion',
  fwcloud: '1',
  by_user: '1' } '[routes/firewall/firewalls.js:726]'
[2018-04-30T13:12:02.279] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = '2' AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T13:12:02.280] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FW-CLONZ7', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 2 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T13:12:02.292] [DEBUG] app - NUEVO FIREWALL CREADO: 43 [routes/firewall/firewalls.js:734]
[2018-04-30T13:12:02.292] [DEBUG] app -  select 43 as newfirewall, I.*  from interface I  where I.firewall='2' [models/interface/interface.js:625]
[2018-04-30T13:12:02.297] [DEBUG] app -  select 92 as newinterface, O.*  from ipobj O  where O.interface=5 [models/interface/interface.js:675]
[2018-04-30T13:12:02.299] [DEBUG] app -  select 93 as newinterface, O.*  from ipobj O  where O.interface=6 [models/interface/interface.js:675]
[2018-04-30T13:12:02.302] [DEBUG] app -  select 94 as newinterface, O.*  from ipobj O  where O.interface=7 [models/interface/interface.js:675]
[2018-04-30T13:12:02.309] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 92 [models/interface/interface.js:684]
[2018-04-30T13:12:02.316] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 93 [models/interface/interface.js:684]
[2018-04-30T13:12:02.318] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 94 [models/interface/interface.js:684]
[2018-04-30T13:12:02.319] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 43 [models/interface/interface.js:634]
[2018-04-30T13:12:02.322] [DEBUG] app -  select 43 as newfirewall, P.*  from policy_r P  where P.firewall='2' [models/policy/policy_r.js:556]
[2018-04-30T13:12:02.331] [DEBUG] app -  select 43 as newfirewall, 69 as newrule, O.*  from policy_r__ipobj O  where O.rule=4 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:12:02.333] [DEBUG] app -  select 43 as newfirewall, 70 as newrule, O.*  from policy_r__ipobj O  where O.rule=5 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:12:02.335] [DEBUG] app -  select 43 as newfirewall, 71 as newrule, O.*  from policy_r__ipobj O  where O.rule=56 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:12:02.347] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 43,
  newrule: 69,
  id_pi: 2,
  rule: 4,
  ipobj: 4,
  ipobj_g: -1,
  interface: -1,
  position: 2,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:29.000Z,
  updated_at: 2018-04-27T14:03:29.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:12:02.348] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 43,
  newrule: 69,
  id_pi: 1,
  rule: 4,
  ipobj: 5,
  ipobj_g: -1,
  interface: -1,
  position: 1,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:21.000Z,
  updated_at: 2018-04-27T14:03:21.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:12:02.352] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 43,
  newrule: 70,
  id_pi: 54,
  rule: 5,
  ipobj: 196,
  ipobj_g: -1,
  interface: -1,
  position: 8,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:23.000Z,
  updated_at: 2018-04-30T10:12:23.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:12:02.352] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 43,
  newrule: 70,
  id_pi: 53,
  rule: 5,
  ipobj: 197,
  ipobj_g: -1,
  interface: -1,
  position: 7,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:20.000Z,
  updated_at: 2018-04-30T10:12:20.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:12:02.356] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 43,
  newrule: 71,
  id_pi: 43,
  rule: 56,
  ipobj: -1,
  ipobj_g: -1,
  interface: 7,
  position: 12,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:10.000Z,
  updated_at: 2018-04-30T09:46:10.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:12:02.356] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 43,
  newrule: 71,
  id_pi: 42,
  rule: 56,
  ipobj: 3,
  ipobj_g: -1,
  interface: -1,
  position: 11,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:02.000Z,
  updated_at: 2018-04-30T09:46:02.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:12:02.362] [DEBUG] app - ---> ORDENANDO RULE : 69 IPOBJ:4 Interface:-1 IPOBJ_G:-1  POSITION: 2  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:12:02.363] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 69 AND position=2 AND position_order>=1 AND position_order<=999999 AND ipobj<>4 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:12:02.365] [DEBUG] app - ---> ORDENANDO RULE : 69 IPOBJ:5 Interface:-1 IPOBJ_G:-1  POSITION: 1  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:12:02.366] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 69 AND position=1 AND position_order>=1 AND position_order<=999999 AND ipobj<>5 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:12:02.367] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 69 [models/policy/policy_r.js:623]
[2018-04-30T13:12:02.367] [DEBUG] app - -------> SQL ALL INTERFACES:   select 69 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=4 AND I.firewall= 43 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:12:02.369] [DEBUG] app - ---> ORDENANDO RULE : 70 IPOBJ:196 Interface:-1 IPOBJ_G:-1  POSITION: 8  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:12:02.370] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 70 AND position=8 AND position_order>=1 AND position_order<=999999 AND ipobj<>196 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:12:02.372] [DEBUG] app - ---> ORDENANDO RULE : 70 IPOBJ:197 Interface:-1 IPOBJ_G:-1  POSITION: 7  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:12:02.372] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 70 AND position=7 AND position_order>=1 AND position_order<=999999 AND ipobj<>197 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:12:02.372] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 70 [models/policy/policy_r.js:623]
[2018-04-30T13:12:02.373] [DEBUG] app - -------> SQL ALL INTERFACES:   select 70 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=5 AND I.firewall= 43 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:12:02.377] [DEBUG] app - ---> ORDENANDO RULE : 71 IPOBJ:-1 Interface:94 IPOBJ_G:-1  POSITION: 12  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:12:02.378] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 71 AND position=12 AND position_order>=1 AND position_order<=999999 AND interface<>94 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:12:02.381] [DEBUG] app - ---> ORDENANDO RULE : 71 IPOBJ:3 Interface:-1 IPOBJ_G:-1  POSITION: 11  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:12:02.381] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 71 AND position=11 AND position_order>=1 AND position_order<=999999 AND ipobj<>3 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:12:02.382] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 71 [models/policy/policy_r.js:623]
[2018-04-30T13:12:02.382] [DEBUG] app - -------> SQL ALL INTERFACES:   select 71 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=56 AND I.firewall= 43 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:12:02.386] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 70 [models/policy/policy_r.js:642]
[2018-04-30T13:12:02.388] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 71 [models/policy/policy_r.js:642]
[2018-04-30T13:12:02.398] [DEBUG] app - ---> ORDENANDO RULE INTERFACE: 69 POSITION: 20  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__interface.js:300]
[2018-04-30T13:12:02.398] [DEBUG] app - UPDATE policy_r__interface SET position_order = position_order+1 WHERE rule = 69 AND position=20 AND position_order>=1 AND position_order<=999999 AND interface<>93 [models/policy/policy_r__interface.js:310]
[2018-04-30T13:12:02.399] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 69 [models/policy/policy_r.js:642]
[2018-04-30T13:12:02.399] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 43 [models/policy/policy_r.js:565]
[2018-04-30T13:12:02.405] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id= 43 [models/tree/fwc_tree.js:560]
[2018-04-30T13:12:02.411] [DEBUG] app - INSERT FIREWALL OK NODE: 43 - FW-CLONZ7  --> FWCTREE: 996 [models/tree/fwc_tree.js:586]
[2018-04-30T13:12:02.412] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("FILTER POLICIES","",996,1,3,"FP",0,0,43,0,1,1) [models/tree/fwc_tree.js:594]
[2018-04-30T13:12:02.413] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",996,2,3,"NT",0,0,43,0,1,1) [models/tree/fwc_tree.js:634]
[2018-04-30T13:12:02.415] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 997 [models/tree/fwc_tree.js:600]
[2018-04-30T13:12:02.416] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("INPUT","",997,1,4,"PI",0,0,43,1,1,1,1) [models/tree/fwc_tree.js:604]
[2018-04-30T13:12:02.416] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",997,2,4,"PO",0,0,43,2,1,1,1) [models/tree/fwc_tree.js:612]
[2018-04-30T13:12:02.416] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",997,3,4,"PF",0,0,43,3,1,1,1) [models/tree/fwc_tree.js:620]
[2018-04-30T13:12:02.419] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("SNAT","",998,1,4,"NTS",0,0,43,4,1,1,0) [models/tree/fwc_tree.js:643]
[2018-04-30T13:12:02.419] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",998,2,4,"NTD",0,0,43,5,1,1,0) [models/tree/fwc_tree.js:651]
[2018-04-30T13:12:53.609] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:12:53.614] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:12:53.868] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:12:53.868] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:12:53.869] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:12:53.869] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:12:53.869] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:12:53.870] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:12:53.870] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:12:53.870] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:12:53.870] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:12:53.899] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:12:53.903] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:12:53.904] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:12:53.906] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:12:54.157] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:12:54.158] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"726-Kdq3KfhGWtNPXGIl2Xp/PiZ101A"' } [app.js:161]
[2018-04-30T13:12:54.158] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:12:54.158] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/2/type/1 [app.js:163]
[2018-04-30T13:12:54.158] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:12:54.160] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:12:54.162] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:12:54.162] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:12:54.162] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:12:54.163] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:12:54.163] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:12:54.164] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:12:54.165] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:12:54.165] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:12:54.166] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:12:54.167] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:12:54.167] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:12:54.168] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:12:54.171] [DEBUG] app - MOSTRANDO POLICY para firewall: 2  TYPE:1 [routes/policy/policy_rs.js:50]
[2018-04-30T13:12:54.181] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='2' AND  P.type= 1 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:12:54.184] [DEBUG] app - 1 ---> DENTRO de REGLA: 4 ORDER: 3 [models/policy/policy_r.js:106]
[2018-04-30T13:12:54.190] [DEBUG] app - BUCLE REGLA:4  POSITION:1  IPOBJ ID: 5  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:12:54.192] [DEBUG] app - BUCLE REGLA:4  POSITION:2  IPOBJ ID: 4  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:12:54.198] [DEBUG] app - BUCLE REGLA:4  POSITION:20  IPOBJ ID: 6  IPOBJ_GROUP: 0  TYPE: I  INTERFACE:0   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:13:00.198] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:00.200] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:00.453] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:00.455] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:13:00.455] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:00.455] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:13:00.455] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:13:00.456] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:00.456] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:13:00.457] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:13:00.457] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:00.494] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:00.495] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:00.497] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:00.498] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:00.749] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:00.749] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"6cd-mZ7X5Uqo1hhoE6WcbgaPJa0qibY"' } [app.js:161]
[2018-04-30T13:13:00.750] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:00.750] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/2/type/3 [app.js:163]
[2018-04-30T13:13:00.750] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:13:00.752] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:00.753] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:13:00.753] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:00.753] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:13:00.753] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:13:00.754] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:00.755] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:13:00.755] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:13:00.755] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:00.756] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:00.757] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:13:00.757] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:13:00.758] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:00.761] [DEBUG] app - MOSTRANDO POLICY para firewall: 2  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T13:13:00.776] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='2' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:13:00.792] [DEBUG] app - 1 ---> DENTRO de REGLA: 5 ORDER: 3 [models/policy/policy_r.js:106]
[2018-04-30T13:13:00.795] [DEBUG] app - BUCLE REGLA:5  POSITION:7  IPOBJ ID: 197  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:13:00.796] [DEBUG] app - BUCLE REGLA:5  POSITION:8  IPOBJ ID: 196  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:13:09.117] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:09.119] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:09.124] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:09.131] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:09.379] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:09.379] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"34b0-WR2M1/jQXQXxIqPcVqWBgQipcuk"' } [app.js:161]
[2018-04-30T13:13:09.379] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:09.379] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T13:13:09.380] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:13:09.381] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:09.381] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:13:09.381] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:13:09.381] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:09.382] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:13:09.386] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:13:09.388] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:09.388] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"191f-dXFIheUVZ9iJIgeDeAEeMajbb7c"' } [app.js:161]
[2018-04-30T13:13:09.388] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:09.388] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T13:13:09.389] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:13:09.390] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:09.391] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:13:09.391] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:13:09.391] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:09.392] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:13:09.393] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:13:09.395] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:13:09.428] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:13:09.430] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T13:13:09.431] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T13:13:09.432] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T13:13:09.435] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T13:13:09.436] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T13:13:09.438] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:13:09.439] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T13:13:09.441] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:13:09.469] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T13:13:09.485] [DEBUG] app - DETECTED FIRWEWALL NODE: 996   FIREWALL: 43 - FW-CLONZ7 [models/tree/fwc_tree.js:142]
[2018-04-30T13:13:14.150] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:14.152] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:14.405] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:14.405] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:13:14.405] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:14.405] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:13:14.406] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:13:14.407] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:14.407] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:13:14.407] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:13:14.407] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:14.460] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:14.462] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:14.464] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:14.465] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:13:14.717] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:14.717] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:13:14.718] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:14.718] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/43/type/3 [app.js:163]
[2018-04-30T13:13:14.718] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:13:14.719] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:14.719] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:13:14.719] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:14.719] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:13:14.719] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:13:14.720] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:14.720] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:13:14.720] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:13:14.720] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:14.721] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:14.723] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:13:14.723] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:13:14.723] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:14.725] [DEBUG] app - MOSTRANDO POLICY para firewall: 43  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T13:13:14.729] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='43' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:13:14.731] [DEBUG] app - 1 ---> DENTRO de REGLA: 70 ORDER: 5 [models/policy/policy_r.js:106]
[2018-04-30T13:13:14.734] [DEBUG] app - BUCLE REGLA:70  POSITION:7  IPOBJ ID: 197  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:13:14.736] [DEBUG] app - BUCLE REGLA:70  POSITION:8  IPOBJ ID: 196  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:13:44.392] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:13:44.392] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:44.392] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'tMklLxgRHUBTfIBvksPaCQi394dd37El_ogxLM10CvVps4iOzlWRy',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': 'def50268-23a8-4bd0-b8cf-a8d30bbb2c98',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '59',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:13:44.392] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:44.392] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:13:44.393] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:13:44.394] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:44.394] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:13:44.394] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:13:44.394] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:44.399] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'tMklLxgRHUBTfIBvksPaCQi394dd37El_ogxLM10CvVps4iOzlWRy',
  sessionID: 'RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc' } [utils/utils.js:166]
[2018-04-30T13:13:44.399] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:13:44.400] [DEBUG] app - COMPARANDO TOKEN USER:   [models/user/user.js:158]
[2018-04-30T13:13:44.400] [DEBUG] app - CON TOKEN REQUEST:  tMklLxgRHUBTfIBvksPaCQi394dd37El_ogxLM10CvVps4iOzlWRy [models/user/user.js:159]
[2018-04-30T13:13:44.401] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc_bAQkJm6yxTWx56o66ONn [models/user/user.js:164]
[2018-04-30T13:13:56.294] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:13:56.295] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:13:56.295] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc_bAQkJm6yxTWx56o66ONn',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '8b5769d3-5520-4781-a760-7eee6e6e6a12',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '59',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:13:56.295] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:13:56.296] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:13:56.296] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:13:56.297] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:13:56.297] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:13:56.297] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:13:56.297] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:13:56.302] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc_bAQkJm6yxTWx56o66ONn',
  sessionID: 'cb6qloAFRltgnB-DPC0tNT14S3OI80RL' } [utils/utils.js:166]
[2018-04-30T13:13:56.302] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:13:56.303] [DEBUG] app - COMPARANDO TOKEN USER:  RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc_bAQkJm6yxTWx56o66ONn [models/user/user.js:158]
[2018-04-30T13:13:56.303] [DEBUG] app - CON TOKEN REQUEST:  RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc_bAQkJm6yxTWx56o66ONn [models/user/user.js:159]
[2018-04-30T13:13:56.305] [DEBUG] app - { id: '2',
  name: 'FW-CLONZ8',
  comment: 'Esto es una clonacion',
  fwcloud: '1',
  by_user: '1' } '[routes/firewall/firewalls.js:726]'
[2018-04-30T13:13:56.305] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = '2' AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T13:13:56.306] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FW-CLONZ8', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 2 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T13:13:56.310] [DEBUG] app - NUEVO FIREWALL CREADO: 44 [routes/firewall/firewalls.js:734]
[2018-04-30T13:13:56.310] [DEBUG] app -  select 44 as newfirewall, I.*  from interface I  where I.firewall='2' [models/interface/interface.js:625]
[2018-04-30T13:13:56.314] [DEBUG] app -  select 95 as newinterface, O.*  from ipobj O  where O.interface=5 [models/interface/interface.js:675]
[2018-04-30T13:13:56.318] [DEBUG] app -  select 96 as newinterface, O.*  from ipobj O  where O.interface=6 [models/interface/interface.js:675]
[2018-04-30T13:13:56.322] [DEBUG] app -  select 97 as newinterface, O.*  from ipobj O  where O.interface=7 [models/interface/interface.js:675]
[2018-04-30T13:13:56.330] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 95 [models/interface/interface.js:684]
[2018-04-30T13:13:56.338] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 96 [models/interface/interface.js:684]
[2018-04-30T13:13:56.340] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 97 [models/interface/interface.js:684]
[2018-04-30T13:13:56.341] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 44 [models/interface/interface.js:634]
[2018-04-30T13:13:56.341] [DEBUG] app -  select 44 as newfirewall, P.*  from policy_r P  where P.firewall='2' [models/policy/policy_r.js:556]
[2018-04-30T13:13:56.344] [DEBUG] app -  select 44 as newfirewall, 72 as newrule, O.*  from policy_r__ipobj O  where O.rule=4 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:13:56.347] [DEBUG] app -  select 44 as newfirewall, 73 as newrule, O.*  from policy_r__ipobj O  where O.rule=5 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:13:56.352] [DEBUG] app -  select 44 as newfirewall, 74 as newrule, O.*  from policy_r__ipobj O  where O.rule=56 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:13:56.355] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 44,
  newrule: 72,
  id_pi: 2,
  rule: 4,
  ipobj: 4,
  ipobj_g: -1,
  interface: -1,
  position: 2,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:29.000Z,
  updated_at: 2018-04-27T14:03:29.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:13:56.356] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 44,
  newrule: 72,
  id_pi: 1,
  rule: 4,
  ipobj: 5,
  ipobj_g: -1,
  interface: -1,
  position: 1,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:21.000Z,
  updated_at: 2018-04-27T14:03:21.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:13:56.359] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 44,
  newrule: 73,
  id_pi: 54,
  rule: 5,
  ipobj: 196,
  ipobj_g: -1,
  interface: -1,
  position: 8,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:23.000Z,
  updated_at: 2018-04-30T10:12:23.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:13:56.360] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 44,
  newrule: 73,
  id_pi: 53,
  rule: 5,
  ipobj: 197,
  ipobj_g: -1,
  interface: -1,
  position: 7,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:20.000Z,
  updated_at: 2018-04-30T10:12:20.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:13:56.366] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 44,
  newrule: 74,
  id_pi: 43,
  rule: 56,
  ipobj: -1,
  ipobj_g: -1,
  interface: 7,
  position: 12,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:10.000Z,
  updated_at: 2018-04-30T09:46:10.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:13:56.367] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 44,
  newrule: 74,
  id_pi: 42,
  rule: 56,
  ipobj: 3,
  ipobj_g: -1,
  interface: -1,
  position: 11,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:02.000Z,
  updated_at: 2018-04-30T09:46:02.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:13:56.373] [DEBUG] app - ---> ORDENANDO RULE : 72 IPOBJ:4 Interface:-1 IPOBJ_G:-1  POSITION: 2  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:13:56.373] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 72 AND position=2 AND position_order>=1 AND position_order<=999999 AND ipobj<>4 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:13:56.376] [DEBUG] app - ---> ORDENANDO RULE : 72 IPOBJ:5 Interface:-1 IPOBJ_G:-1  POSITION: 1  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:13:56.376] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 72 AND position=1 AND position_order>=1 AND position_order<=999999 AND ipobj<>5 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:13:56.377] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 72 [models/policy/policy_r.js:623]
[2018-04-30T13:13:56.377] [DEBUG] app - -------> SQL ALL INTERFACES:   select 72 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=4 AND I.firewall= 44 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:13:56.379] [DEBUG] app - ---> ORDENANDO RULE : 73 IPOBJ:196 Interface:-1 IPOBJ_G:-1  POSITION: 8  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:13:56.379] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 73 AND position=8 AND position_order>=1 AND position_order<=999999 AND ipobj<>196 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:13:56.385] [DEBUG] app - ---> ORDENANDO RULE : 73 IPOBJ:197 Interface:-1 IPOBJ_G:-1  POSITION: 7  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:13:56.386] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 73 AND position=7 AND position_order>=1 AND position_order<=999999 AND ipobj<>197 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:13:56.386] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 73 [models/policy/policy_r.js:623]
[2018-04-30T13:13:56.386] [DEBUG] app - -------> SQL ALL INTERFACES:   select 73 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=5 AND I.firewall= 44 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:13:56.387] [DEBUG] app - ---> ORDENANDO RULE : 74 IPOBJ:-1 Interface:97 IPOBJ_G:-1  POSITION: 12  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:13:56.388] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 74 AND position=12 AND position_order>=1 AND position_order<=999999 AND interface<>97 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:13:56.391] [DEBUG] app - ---> ORDENANDO RULE : 74 IPOBJ:3 Interface:-1 IPOBJ_G:-1  POSITION: 11  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:518]
[2018-04-30T13:13:56.391] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 74 AND position=11 AND position_order>=1 AND position_order<=999999 AND ipobj<>3 [models/policy/policy_r__ipobj.js:533]
[2018-04-30T13:13:56.392] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 74 [models/policy/policy_r.js:623]
[2018-04-30T13:13:56.392] [DEBUG] app - -------> SQL ALL INTERFACES:   select 74 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=56 AND I.firewall= 44 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:13:56.396] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 73 [models/policy/policy_r.js:642]
[2018-04-30T13:13:56.398] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 74 [models/policy/policy_r.js:642]
[2018-04-30T13:13:56.405] [DEBUG] app - ---> ORDENANDO RULE INTERFACE: 72 POSITION: 20  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__interface.js:300]
[2018-04-30T13:13:56.405] [DEBUG] app - UPDATE policy_r__interface SET position_order = position_order+1 WHERE rule = 72 AND position=20 AND position_order>=1 AND position_order<=999999 AND interface<>96 [models/policy/policy_r__interface.js:310]
[2018-04-30T13:13:56.406] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 72 [models/policy/policy_r.js:642]
[2018-04-30T13:13:56.406] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 44 [models/policy/policy_r.js:565]
[2018-04-30T13:13:56.407] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id= 44 [models/tree/fwc_tree.js:560]
[2018-04-30T13:13:56.411] [DEBUG] app - INSERT FIREWALL OK NODE: 44 - FW-CLONZ8  --> FWCTREE: 1014 [models/tree/fwc_tree.js:586]
[2018-04-30T13:13:56.411] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("FILTER POLICIES","",1014,1,3,"FP",0,0,44,0,1,1) [models/tree/fwc_tree.js:594]
[2018-04-30T13:13:56.411] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",1014,2,3,"NT",0,0,44,0,1,1) [models/tree/fwc_tree.js:634]
[2018-04-30T13:13:56.413] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 1015 [models/tree/fwc_tree.js:600]
[2018-04-30T13:13:56.414] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("INPUT","",1015,1,4,"PI",0,0,44,1,1,1,1) [models/tree/fwc_tree.js:604]
[2018-04-30T13:13:56.414] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",1015,2,4,"PO",0,0,44,2,1,1,1) [models/tree/fwc_tree.js:612]
[2018-04-30T13:13:56.414] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",1015,3,4,"PF",0,0,44,3,1,1,1) [models/tree/fwc_tree.js:620]
[2018-04-30T13:13:56.415] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("SNAT","",1016,1,4,"NTS",0,0,44,4,1,1,0) [models/tree/fwc_tree.js:643]
[2018-04-30T13:13:56.416] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",1016,2,4,"NTD",0,0,44,5,1,1,0) [models/tree/fwc_tree.js:651]
[2018-04-30T13:16:07.321] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:07.324] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:07.325] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:07.327] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:07.576] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:16:07.576] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"45df-U1ps8PGZFWoDVEVSGS4CqOLXqfE"' } [app.js:161]
[2018-04-30T13:16:07.576] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:16:07.576] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T13:16:07.577] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:16:07.577] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:16:07.578] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:16:07.578] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:16:07.578] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:16:07.579] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:16:07.579] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:16:07.579] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"191f-dXFIheUVZ9iJIgeDeAEeMajbb7c"' } [app.js:161]
[2018-04-30T13:16:07.580] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:16:07.580] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T13:16:07.580] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:16:07.589] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:16:07.590] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:16:07.590] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:16:07.591] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:16:07.591] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:16:07.591] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:16:07.593] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:16:07.594] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:07.624] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:07.626] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T13:16:07.627] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:07.628] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T13:16:07.629] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:07.631] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T13:16:07.632] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:07.634] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T13:16:07.637] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:07.658] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:07.670] [DEBUG] app - DETECTED FIRWEWALL NODE: 996   FIREWALL: 43 - FW-CLONZ7 [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:07.684] [DEBUG] app - DETECTED FIRWEWALL NODE: 1014   FIREWALL: 44 - FW-CLONZ8 [models/tree/fwc_tree.js:142]
[2018-04-30T13:16:13.339] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:13.341] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:13.594] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:16:13.594] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:16:13.594] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:16:13.595] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:16:13.595] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:16:13.596] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:16:13.596] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:16:13.596] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:16:13.596] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:16:13.637] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:13.639] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:13.642] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:13.644] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:16:13.894] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:16:13.894] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:16:13.895] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:16:13.895] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:16:13.895] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:16:13.896] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:16:13.896] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:16:13.896] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:16:13.896] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/44/type/3 [app.js:163]
[2018-04-30T13:16:13.896] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:16:13.896] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:16:13.897] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:16:13.897] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:16:13.897] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:16:13.897] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:16:13.898] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:16:13.898] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:16:13.898] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:16:13.903] [DEBUG] app - MOSTRANDO POLICY para firewall: 44  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T13:16:13.905] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='44' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:16:13.906] [DEBUG] app - 1 ---> DENTRO de REGLA: 73 ORDER: 5 [models/policy/policy_r.js:106]
[2018-04-30T13:16:13.909] [DEBUG] app - BUCLE REGLA:73  POSITION:7  IPOBJ ID: 197  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:16:13.910] [DEBUG] app - BUCLE REGLA:73  POSITION:8  IPOBJ ID: 196  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:19:30.670] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T13:19:39.309] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:19:39.319] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:19:39.320] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc_bAQkJm6yxTWx56o66ONn',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': 'b0c7e958-6d9e-48d9-b1e6-64cdbc8536b8',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '59',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:19:39.322] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:19:39.322] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:19:39.322] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:19:39.327] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:19:39.327] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:19:39.327] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:19:39.327] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:19:39.334] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc_bAQkJm6yxTWx56o66ONn',
  sessionID: 'd8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK' } [utils/utils.js:166]
[2018-04-30T13:19:39.334] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:19:39.335] [DEBUG] app - COMPARANDO TOKEN USER:   [models/user/user.js:158]
[2018-04-30T13:19:39.335] [DEBUG] app - CON TOKEN REQUEST:  RDwZze8Humrr6T7WeX7kMA3TDQXNSiYc_bAQkJm6yxTWx56o66ONn [models/user/user.js:159]
[2018-04-30T13:19:39.336] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  d8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK_lblQHEboTBYoxZOgqP03 [models/user/user.js:164]
[2018-04-30T13:19:48.694] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:19:48.696] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:19:48.696] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'd8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK_lblQHEboTBYoxZOgqP03',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '12748487-059f-49bd-8635-7732770e4fc5',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '59',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:19:48.697] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:19:48.697] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:19:48.697] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:19:48.699] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:19:48.700] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:19:48.700] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:19:48.700] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:19:48.707] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'd8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK_lblQHEboTBYoxZOgqP03',
  sessionID: 'Th5O6NMsx1zAqtyxnSqBSORLnc1g6mMv' } [utils/utils.js:166]
[2018-04-30T13:19:48.708] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:19:48.709] [DEBUG] app - COMPARANDO TOKEN USER:  d8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK_lblQHEboTBYoxZOgqP03 [models/user/user.js:158]
[2018-04-30T13:19:48.709] [DEBUG] app - CON TOKEN REQUEST:  d8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK_lblQHEboTBYoxZOgqP03 [models/user/user.js:159]
[2018-04-30T13:19:48.713] [DEBUG] app - { id: '2',
  name: 'FW-CLONZ9',
  comment: 'Esto es una clonacion',
  fwcloud: '1',
  by_user: '1' } '[routes/firewall/firewalls.js:726]'
[2018-04-30T13:19:48.715] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = '2' AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T13:19:48.717] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FW-CLONZ9', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 2 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T13:19:48.724] [DEBUG] app - NUEVO FIREWALL CREADO: 45 [routes/firewall/firewalls.js:734]
[2018-04-30T13:19:48.725] [DEBUG] app -  select 45 as newfirewall, I.*  from interface I  where I.firewall='2' [models/interface/interface.js:625]
[2018-04-30T13:19:48.733] [DEBUG] app -  select 98 as newinterface, O.*  from ipobj O  where O.interface=5 [models/interface/interface.js:675]
[2018-04-30T13:19:48.735] [DEBUG] app -  select 99 as newinterface, O.*  from ipobj O  where O.interface=6 [models/interface/interface.js:675]
[2018-04-30T13:19:48.738] [DEBUG] app -  select 100 as newinterface, O.*  from ipobj O  where O.interface=7 [models/interface/interface.js:675]
[2018-04-30T13:19:48.746] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 98 [models/interface/interface.js:684]
[2018-04-30T13:19:48.751] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 99 [models/interface/interface.js:684]
[2018-04-30T13:19:48.752] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 100 [models/interface/interface.js:684]
[2018-04-30T13:19:48.752] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 45 [models/interface/interface.js:634]
[2018-04-30T13:19:48.753] [DEBUG] app -  select 45 as newfirewall, P.*  from policy_r P  where P.firewall='2' [models/policy/policy_r.js:556]
[2018-04-30T13:19:48.758] [DEBUG] app -  select 45 as newfirewall, 75 as newrule, O.*  from policy_r__ipobj O  where O.rule=4 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:19:48.761] [DEBUG] app -  select 45 as newfirewall, 76 as newrule, O.*  from policy_r__ipobj O  where O.rule=5 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:19:48.763] [DEBUG] app -  select 45 as newfirewall, 77 as newrule, O.*  from policy_r__ipobj O  where O.rule=56 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:19:48.771] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 45,
  newrule: 75,
  id_pi: 2,
  rule: 4,
  ipobj: 4,
  ipobj_g: -1,
  interface: -1,
  position: 2,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:29.000Z,
  updated_at: 2018-04-27T14:03:29.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:19:48.772] [DEBUG] app - --------- >>>> SQL INTERFACE OTHER:  select id from interface where id_fwb=-1 AND firewall= 45 [models/policy/policy_r__ipobj.js:257]
[2018-04-30T13:19:48.773] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 45,
  newrule: 75,
  id_pi: 1,
  rule: 4,
  ipobj: 5,
  ipobj_g: -1,
  interface: -1,
  position: 1,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:21.000Z,
  updated_at: 2018-04-27T14:03:21.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:19:48.773] [DEBUG] app - --------- >>>> SQL INTERFACE OTHER:  select id from interface where id_fwb=-1 AND firewall= 45 [models/policy/policy_r__ipobj.js:257]
[2018-04-30T13:19:48.777] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 45,
  newrule: 76,
  id_pi: 54,
  rule: 5,
  ipobj: 196,
  ipobj_g: -1,
  interface: -1,
  position: 8,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:23.000Z,
  updated_at: 2018-04-30T10:12:23.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:19:48.777] [DEBUG] app - --------- >>>> SQL INTERFACE OTHER:  select id from interface where id_fwb=-1 AND firewall= 45 [models/policy/policy_r__ipobj.js:257]
[2018-04-30T13:19:48.777] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 45,
  newrule: 76,
  id_pi: 53,
  rule: 5,
  ipobj: 197,
  ipobj_g: -1,
  interface: -1,
  position: 7,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:20.000Z,
  updated_at: 2018-04-30T10:12:20.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:19:48.777] [DEBUG] app - --------- >>>> SQL INTERFACE OTHER:  select id from interface where id_fwb=-1 AND firewall= 45 [models/policy/policy_r__ipobj.js:257]
[2018-04-30T13:19:48.781] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 45,
  newrule: 77,
  id_pi: 43,
  rule: 56,
  ipobj: -1,
  ipobj_g: -1,
  interface: 7,
  position: 12,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:10.000Z,
  updated_at: 2018-04-30T09:46:10.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:19:48.781] [DEBUG] app - --------- >>>> SQL INTERFACE OTHER:  select id from interface where id_fwb=7 AND firewall= 45 [models/policy/policy_r__ipobj.js:257]
[2018-04-30T13:19:48.781] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 45,
  newrule: 77,
  id_pi: 42,
  rule: 56,
  ipobj: 3,
  ipobj_g: -1,
  interface: -1,
  position: 11,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:02.000Z,
  updated_at: 2018-04-30T09:46:02.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:19:48.782] [DEBUG] app - --------- >>>> SQL INTERFACE OTHER:  select id from interface where id_fwb=-1 AND firewall= 45 [models/policy/policy_r__ipobj.js:257]
[2018-04-30T13:19:48.791] [DEBUG] app - ---> ORDENANDO RULE : 75 IPOBJ:4 Interface:-1 IPOBJ_G:-1  POSITION: 2  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:19:48.791] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 75 AND position=2 AND position_order>=1 AND position_order<=999999 AND ipobj<>4 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:19:48.794] [DEBUG] app - ---> ORDENANDO RULE : 75 IPOBJ:5 Interface:-1 IPOBJ_G:-1  POSITION: 1  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:19:48.795] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 75 AND position=1 AND position_order>=1 AND position_order<=999999 AND ipobj<>5 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:19:48.795] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 75 [models/policy/policy_r.js:623]
[2018-04-30T13:19:48.795] [DEBUG] app - -------> SQL ALL INTERFACES:   select 75 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=4 AND I.firewall= 45 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:19:48.798] [DEBUG] app - ---> ORDENANDO RULE : 76 IPOBJ:196 Interface:-1 IPOBJ_G:-1  POSITION: 8  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:19:48.798] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 76 AND position=8 AND position_order>=1 AND position_order<=999999 AND ipobj<>196 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:19:48.803] [DEBUG] app - ---> ORDENANDO RULE : 76 IPOBJ:197 Interface:-1 IPOBJ_G:-1  POSITION: 7  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:19:48.803] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 76 AND position=7 AND position_order>=1 AND position_order<=999999 AND ipobj<>197 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:19:48.804] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 76 [models/policy/policy_r.js:623]
[2018-04-30T13:19:48.804] [DEBUG] app - -------> SQL ALL INTERFACES:   select 76 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=5 AND I.firewall= 45 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:19:48.806] [DEBUG] app - ---> ORDENANDO RULE : 77 IPOBJ:-1 Interface:100 IPOBJ_G:-1  POSITION: 12  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:19:48.806] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 77 AND position=12 AND position_order>=1 AND position_order<=999999 AND interface<>100 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:19:48.809] [DEBUG] app - ---> ORDENANDO RULE : 77 IPOBJ:3 Interface:-1 IPOBJ_G:-1  POSITION: 11  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:19:48.809] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 77 AND position=11 AND position_order>=1 AND position_order<=999999 AND ipobj<>3 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:19:48.810] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 77 [models/policy/policy_r.js:623]
[2018-04-30T13:19:48.811] [DEBUG] app - -------> SQL ALL INTERFACES:   select 77 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=56 AND I.firewall= 45 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:19:48.815] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 76 [models/policy/policy_r.js:642]
[2018-04-30T13:19:48.817] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 77 [models/policy/policy_r.js:642]
[2018-04-30T13:19:48.822] [DEBUG] app - ---> ORDENANDO RULE INTERFACE: 75 POSITION: 20  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__interface.js:300]
[2018-04-30T13:19:48.823] [DEBUG] app - UPDATE policy_r__interface SET position_order = position_order+1 WHERE rule = 75 AND position=20 AND position_order>=1 AND position_order<=999999 AND interface<>99 [models/policy/policy_r__interface.js:310]
[2018-04-30T13:19:48.823] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 75 [models/policy/policy_r.js:642]
[2018-04-30T13:19:48.823] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 45 [models/policy/policy_r.js:565]
[2018-04-30T13:19:48.827] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id= 45 [models/tree/fwc_tree.js:560]
[2018-04-30T13:19:48.834] [DEBUG] app - INSERT FIREWALL OK NODE: 45 - FW-CLONZ9  --> FWCTREE: 1032 [models/tree/fwc_tree.js:586]
[2018-04-30T13:19:48.834] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("FILTER POLICIES","",1032,1,3,"FP",0,0,45,0,1,1) [models/tree/fwc_tree.js:594]
[2018-04-30T13:19:48.835] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",1032,2,3,"NT",0,0,45,0,1,1) [models/tree/fwc_tree.js:634]
[2018-04-30T13:19:48.842] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 1033 [models/tree/fwc_tree.js:600]
[2018-04-30T13:19:48.843] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("INPUT","",1033,1,4,"PI",0,0,45,1,1,1,1) [models/tree/fwc_tree.js:604]
[2018-04-30T13:19:48.844] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",1033,2,4,"PO",0,0,45,2,1,1,1) [models/tree/fwc_tree.js:612]
[2018-04-30T13:19:48.844] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",1033,3,4,"PF",0,0,45,3,1,1,1) [models/tree/fwc_tree.js:620]
[2018-04-30T13:19:48.847] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("SNAT","",1034,1,4,"NTS",0,0,45,4,1,1,0) [models/tree/fwc_tree.js:643]
[2018-04-30T13:19:48.848] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",1034,2,4,"NTD",0,0,45,5,1,1,0) [models/tree/fwc_tree.js:651]
[2018-04-30T13:20:41.408] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T13:20:48.370] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:20:48.379] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:20:48.379] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'd8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK_lblQHEboTBYoxZOgqP03',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': 'bfb08c0e-4561-4d90-8ea2-1f0156f3ef00',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '60',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:20:48.381] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:20:48.381] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:20:48.381] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:20:48.387] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:20:48.388] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:20:48.388] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:20:48.388] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:20:48.394] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'd8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK_lblQHEboTBYoxZOgqP03',
  sessionID: '0ducPn5RLBPDlh5rv2_acAniIoP0Aftv' } [utils/utils.js:166]
[2018-04-30T13:20:48.394] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:20:48.395] [DEBUG] app - COMPARANDO TOKEN USER:   [models/user/user.js:158]
[2018-04-30T13:20:48.396] [DEBUG] app - CON TOKEN REQUEST:  d8QZPQ8wxGkIvzDNeDLL8rYm2psw2TiK_lblQHEboTBYoxZOgqP03 [models/user/user.js:159]
[2018-04-30T13:20:48.396] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  0ducPn5RLBPDlh5rv2_acAniIoP0Aftv_DeRryP6X2LCdMx2uB31Q [models/user/user.js:164]
[2018-04-30T13:20:59.738] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:20:59.740] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:20:59.740] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: '0ducPn5RLBPDlh5rv2_acAniIoP0Aftv_DeRryP6X2LCdMx2uB31Q',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': 'f3c92942-d92f-4056-a310-735ebf3ce60c',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '60',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:20:59.740] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:20:59.741] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:20:59.741] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:20:59.743] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:20:59.743] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:20:59.744] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:20:59.744] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:20:59.751] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: '0ducPn5RLBPDlh5rv2_acAniIoP0Aftv_DeRryP6X2LCdMx2uB31Q',
  sessionID: 'haXGthS_3mnOjwi7bwRlGTmDtmaazAC6' } [utils/utils.js:166]
[2018-04-30T13:20:59.752] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:20:59.753] [DEBUG] app - COMPARANDO TOKEN USER:  0ducPn5RLBPDlh5rv2_acAniIoP0Aftv_DeRryP6X2LCdMx2uB31Q [models/user/user.js:158]
[2018-04-30T13:20:59.753] [DEBUG] app - CON TOKEN REQUEST:  0ducPn5RLBPDlh5rv2_acAniIoP0Aftv_DeRryP6X2LCdMx2uB31Q [models/user/user.js:159]
[2018-04-30T13:20:59.757] [DEBUG] app - { id: '2',
  name: 'FW-CLONZ10',
  comment: 'Esto es una clonacion',
  fwcloud: '1',
  by_user: '1' } '[routes/firewall/firewalls.js:726]'
[2018-04-30T13:20:59.759] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = '2' AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T13:20:59.760] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FW-CLONZ10', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 2 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T13:20:59.769] [DEBUG] app - NUEVO FIREWALL CREADO: 46 [routes/firewall/firewalls.js:734]
[2018-04-30T13:20:59.770] [DEBUG] app -  select 46 as newfirewall, I.*  from interface I  where I.firewall='2' [models/interface/interface.js:625]
[2018-04-30T13:20:59.776] [DEBUG] app -  select 101 as newinterface, O.*  from ipobj O  where O.interface=5 [models/interface/interface.js:675]
[2018-04-30T13:20:59.780] [DEBUG] app -  select 102 as newinterface, O.*  from ipobj O  where O.interface=6 [models/interface/interface.js:675]
[2018-04-30T13:20:59.786] [DEBUG] app -  select 103 as newinterface, O.*  from ipobj O  where O.interface=7 [models/interface/interface.js:675]
[2018-04-30T13:20:59.794] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 101 [models/interface/interface.js:684]
[2018-04-30T13:20:59.800] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 102 [models/interface/interface.js:684]
[2018-04-30T13:20:59.802] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 103 [models/interface/interface.js:684]
[2018-04-30T13:20:59.802] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 46 [models/interface/interface.js:634]
[2018-04-30T13:20:59.803] [DEBUG] app -  select 46 as newfirewall, P.*  from policy_r P  where P.firewall='2' [models/policy/policy_r.js:556]
[2018-04-30T13:20:59.809] [DEBUG] app -  select 46 as newfirewall, 78 as newrule, O.*  from policy_r__ipobj O  where O.rule=4 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:20:59.814] [DEBUG] app -  select 46 as newfirewall, 79 as newrule, O.*  from policy_r__ipobj O  where O.rule=5 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:20:59.817] [DEBUG] app -  select 46 as newfirewall, 80 as newrule, O.*  from policy_r__ipobj O  where O.rule=56 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:20:59.824] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 46,
  newrule: 78,
  id_pi: 2,
  rule: 4,
  ipobj: 4,
  ipobj_g: -1,
  interface: -1,
  position: 2,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:29.000Z,
  updated_at: 2018-04-27T14:03:29.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:20:59.825] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where id_fwb=4 AND I.firewall= 46 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:20:59.825] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 46,
  newrule: 78,
  id_pi: 1,
  rule: 4,
  ipobj: 5,
  ipobj_g: -1,
  interface: -1,
  position: 1,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:21.000Z,
  updated_at: 2018-04-27T14:03:21.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:20:59.825] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where id_fwb=5 AND I.firewall= 46 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:20:59.832] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 46,
  newrule: 79,
  id_pi: 54,
  rule: 5,
  ipobj: 196,
  ipobj_g: -1,
  interface: -1,
  position: 8,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:23.000Z,
  updated_at: 2018-04-30T10:12:23.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:20:59.833] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where id_fwb=196 AND I.firewall= 46 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:20:59.833] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 46,
  newrule: 79,
  id_pi: 53,
  rule: 5,
  ipobj: 197,
  ipobj_g: -1,
  interface: -1,
  position: 7,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:20.000Z,
  updated_at: 2018-04-30T10:12:20.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:20:59.833] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where id_fwb=197 AND I.firewall= 46 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:20:59.837] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 46,
  newrule: 80,
  id_pi: 43,
  rule: 56,
  ipobj: -1,
  ipobj_g: -1,
  interface: 7,
  position: 12,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:10.000Z,
  updated_at: 2018-04-30T09:46:10.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:20:59.838] [DEBUG] app - --------- >>>> SQL INTERFACE OTHER:  select id from interface where id_fwb=7 AND firewall= 46 [models/policy/policy_r__ipobj.js:257]
[2018-04-30T13:20:59.838] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 46,
  newrule: 80,
  id_pi: 42,
  rule: 56,
  ipobj: 3,
  ipobj_g: -1,
  interface: -1,
  position: 11,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:02.000Z,
  updated_at: 2018-04-30T09:46:02.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:20:59.838] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where id_fwb=3 AND I.firewall= 46 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:20:59.850] [DEBUG] app - ---> ORDENANDO RULE : 78 IPOBJ:4 Interface:-1 IPOBJ_G:-1  POSITION: 2  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:20:59.851] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 78 AND position=2 AND position_order>=1 AND position_order<=999999 AND ipobj<>4 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:20:59.855] [DEBUG] app - ---> ORDENANDO RULE : 78 IPOBJ:5 Interface:-1 IPOBJ_G:-1  POSITION: 1  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:20:59.855] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 78 AND position=1 AND position_order>=1 AND position_order<=999999 AND ipobj<>5 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:20:59.857] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 78 [models/policy/policy_r.js:623]
[2018-04-30T13:20:59.857] [DEBUG] app - -------> SQL ALL INTERFACES:   select 78 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=4 AND I.firewall= 46 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:20:59.858] [DEBUG] app - ---> ORDENANDO RULE : 79 IPOBJ:196 Interface:-1 IPOBJ_G:-1  POSITION: 8  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:20:59.858] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 79 AND position=8 AND position_order>=1 AND position_order<=999999 AND ipobj<>196 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:20:59.864] [DEBUG] app - ---> ORDENANDO RULE : 79 IPOBJ:197 Interface:-1 IPOBJ_G:-1  POSITION: 7  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:20:59.864] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 79 AND position=7 AND position_order>=1 AND position_order<=999999 AND ipobj<>197 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:20:59.864] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 79 [models/policy/policy_r.js:623]
[2018-04-30T13:20:59.864] [DEBUG] app - -------> SQL ALL INTERFACES:   select 79 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=5 AND I.firewall= 46 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:20:59.867] [DEBUG] app - ---> ORDENANDO RULE : 80 IPOBJ:-1 Interface:103 IPOBJ_G:-1  POSITION: 12  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:20:59.867] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 80 AND position=12 AND position_order>=1 AND position_order<=999999 AND interface<>103 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:20:59.870] [DEBUG] app - ---> ORDENANDO RULE : 80 IPOBJ:3 Interface:-1 IPOBJ_G:-1  POSITION: 11  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:20:59.870] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 80 AND position=11 AND position_order>=1 AND position_order<=999999 AND ipobj<>3 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:20:59.870] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 80 [models/policy/policy_r.js:623]
[2018-04-30T13:20:59.871] [DEBUG] app - -------> SQL ALL INTERFACES:   select 80 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=56 AND I.firewall= 46 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:20:59.875] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 79 [models/policy/policy_r.js:642]
[2018-04-30T13:20:59.877] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 80 [models/policy/policy_r.js:642]
[2018-04-30T13:20:59.879] [DEBUG] app - ---> ORDENANDO RULE INTERFACE: 78 POSITION: 20  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__interface.js:300]
[2018-04-30T13:20:59.880] [DEBUG] app - UPDATE policy_r__interface SET position_order = position_order+1 WHERE rule = 78 AND position=20 AND position_order>=1 AND position_order<=999999 AND interface<>102 [models/policy/policy_r__interface.js:310]
[2018-04-30T13:20:59.880] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 78 [models/policy/policy_r.js:642]
[2018-04-30T13:20:59.880] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 46 [models/policy/policy_r.js:565]
[2018-04-30T13:20:59.885] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id= 46 [models/tree/fwc_tree.js:560]
[2018-04-30T13:20:59.894] [DEBUG] app - INSERT FIREWALL OK NODE: 46 - FW-CLONZ10  --> FWCTREE: 1050 [models/tree/fwc_tree.js:586]
[2018-04-30T13:20:59.894] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("FILTER POLICIES","",1050,1,3,"FP",0,0,46,0,1,1) [models/tree/fwc_tree.js:594]
[2018-04-30T13:20:59.895] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",1050,2,3,"NT",0,0,46,0,1,1) [models/tree/fwc_tree.js:634]
[2018-04-30T13:20:59.901] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 1051 [models/tree/fwc_tree.js:600]
[2018-04-30T13:20:59.901] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("INPUT","",1051,1,4,"PI",0,0,46,1,1,1,1) [models/tree/fwc_tree.js:604]
[2018-04-30T13:20:59.902] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",1051,2,4,"PO",0,0,46,2,1,1,1) [models/tree/fwc_tree.js:612]
[2018-04-30T13:20:59.902] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",1051,3,4,"PF",0,0,46,3,1,1,1) [models/tree/fwc_tree.js:620]
[2018-04-30T13:20:59.905] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("SNAT","",1052,1,4,"NTS",0,0,46,4,1,1,0) [models/tree/fwc_tree.js:643]
[2018-04-30T13:20:59.905] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",1052,2,4,"NTD",0,0,46,5,1,1,0) [models/tree/fwc_tree.js:651]
[2018-04-30T13:21:48.386] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:48.391] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:48.393] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:48.397] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:48.648] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:21:48.648] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"571b-wLFC/cSfm8SYucns5JHEE5jSLfQ"' } [app.js:161]
[2018-04-30T13:21:48.648] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:21:48.648] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T13:21:48.649] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:21:48.650] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:21:48.650] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"191f-dXFIheUVZ9iJIgeDeAEeMajbb7c"' } [app.js:161]
[2018-04-30T13:21:48.650] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:21:48.650] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T13:21:48.650] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:21:48.651] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:21:48.653] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:21:48.653] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:21:48.654] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:21:48.655] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:21:48.656] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:21:48.657] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:21:48.658] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:21:48.658] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:21:48.658] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:21:48.662] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:21:48.666] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:21:48.671] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.719] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.720] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T13:21:48.722] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.723] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T13:21:48.725] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.727] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T13:21:48.728] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.732] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T13:21:48.734] [DEBUG] app - DETECTED FIRWEWALL NODE: 1050   FIREWALL: 46 - FW-CLONZ10 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.758] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.783] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.799] [DEBUG] app - DETECTED FIRWEWALL NODE: 996   FIREWALL: 43 - FW-CLONZ7 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.815] [DEBUG] app - DETECTED FIRWEWALL NODE: 1014   FIREWALL: 44 - FW-CLONZ8 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:48.830] [DEBUG] app - DETECTED FIRWEWALL NODE: 1032   FIREWALL: 45 - FW-CLONZ9 [models/tree/fwc_tree.js:142]
[2018-04-30T13:21:53.658] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:53.660] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:53.914] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:21:53.914] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:21:53.914] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:21:53.914] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:21:53.915] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:21:53.916] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:21:53.916] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:21:53.916] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:21:53.916] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:21:53.947] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:53.951] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:53.953] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:53.954] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:21:54.205] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:21:54.205] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:21:54.205] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:21:54.205] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/46/type/3 [app.js:163]
[2018-04-30T13:21:54.205] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:21:54.206] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:21:54.206] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:21:54.207] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:21:54.207] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:21:54.207] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:21:54.208] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:21:54.208] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:21:54.209] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:21:54.209] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:21:54.210] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:21:54.211] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:21:54.211] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:21:54.211] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:21:54.217] [DEBUG] app - MOSTRANDO POLICY para firewall: 46  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T13:21:54.222] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='46' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:21:54.227] [DEBUG] app - 1 ---> DENTRO de REGLA: 79 ORDER: 5 [models/policy/policy_r.js:106]
[2018-04-30T13:21:54.233] [DEBUG] app - BUCLE REGLA:79  POSITION:7  IPOBJ ID: 197  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:21:54.236] [DEBUG] app - BUCLE REGLA:79  POSITION:8  IPOBJ ID: 196  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:23:10.560] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T13:23:19.557] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:23:19.566] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:23:19.566] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: '0ducPn5RLBPDlh5rv2_acAniIoP0Aftv_DeRryP6X2LCdMx2uB31Q',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '0b2908cf-e884-442a-86c7-19d5e7cc04cc',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '60',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:23:19.568] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:23:19.568] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:23:19.568] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:23:19.573] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:23:19.574] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:23:19.574] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:23:19.574] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:23:19.579] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: '0ducPn5RLBPDlh5rv2_acAniIoP0Aftv_DeRryP6X2LCdMx2uB31Q',
  sessionID: 'OI3Mk62Mw9jbo7lr0uXDaL3FNXegF1Ui' } [utils/utils.js:166]
[2018-04-30T13:23:19.580] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:23:19.581] [DEBUG] app - COMPARANDO TOKEN USER:   [models/user/user.js:158]
[2018-04-30T13:23:19.582] [DEBUG] app - CON TOKEN REQUEST:  0ducPn5RLBPDlh5rv2_acAniIoP0Aftv_DeRryP6X2LCdMx2uB31Q [models/user/user.js:159]
[2018-04-30T13:23:19.582] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  OI3Mk62Mw9jbo7lr0uXDaL3FNXegF1Ui_7hh4p2PMMXKmwqwtXYsE [models/user/user.js:164]
[2018-04-30T13:23:27.294] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T13:23:27.296] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:23:27.296] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  x_fwc_confirm_token: 'OI3Mk62Mw9jbo7lr0uXDaL3FNXegF1Ui_7hh4p2PMMXKmwqwtXYsE',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '59b4ebcd-570b-4486-a271-09256517de22',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '60',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:23:27.296] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:23:27.297] [DEBUG] app - METHOD: PUT   PATHNAME: /firewalls/clone/firewall/2 [app.js:163]
[2018-04-30T13:23:27.297] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T13:23:27.299] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:23:27.300] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T13:23:27.300] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T13:23:27.300] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:23:27.308] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'OI3Mk62Mw9jbo7lr0uXDaL3FNXegF1Ui_7hh4p2PMMXKmwqwtXYsE',
  sessionID: '46u6DvUEXdjfMD7iI1C0sYWxmaKJkMt9' } [utils/utils.js:166]
[2018-04-30T13:23:27.309] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T13:23:27.310] [DEBUG] app - COMPARANDO TOKEN USER:  OI3Mk62Mw9jbo7lr0uXDaL3FNXegF1Ui_7hh4p2PMMXKmwqwtXYsE [models/user/user.js:158]
[2018-04-30T13:23:27.310] [DEBUG] app - CON TOKEN REQUEST:  OI3Mk62Mw9jbo7lr0uXDaL3FNXegF1Ui_7hh4p2PMMXKmwqwtXYsE [models/user/user.js:159]
[2018-04-30T13:23:27.313] [DEBUG] app - { id: '2',
  name: 'FW-CLONZ11',
  comment: 'Esto es una clonacion',
  fwcloud: '1',
  by_user: '1' } '[routes/firewall/firewalls.js:726]'
[2018-04-30T13:23:27.314] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = '2' AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T13:23:27.317] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FW-CLONZ11', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 2 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T13:23:27.323] [DEBUG] app - NUEVO FIREWALL CREADO: 47 [routes/firewall/firewalls.js:734]
[2018-04-30T13:23:27.324] [DEBUG] app -  select 47 as newfirewall, I.*  from interface I  where I.firewall='2' [models/interface/interface.js:625]
[2018-04-30T13:23:27.338] [DEBUG] app -  select 104 as newinterface, O.*  from ipobj O  where O.interface=5 [models/interface/interface.js:675]
[2018-04-30T13:23:27.341] [DEBUG] app -  select 105 as newinterface, O.*  from ipobj O  where O.interface=6 [models/interface/interface.js:675]
[2018-04-30T13:23:27.344] [DEBUG] app -  select 106 as newinterface, O.*  from ipobj O  where O.interface=7 [models/interface/interface.js:675]
[2018-04-30T13:23:27.358] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 104 [models/interface/interface.js:684]
[2018-04-30T13:23:27.362] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 105 [models/interface/interface.js:684]
[2018-04-30T13:23:27.364] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva INTERFACE: 106 [models/interface/interface.js:684]
[2018-04-30T13:23:27.364] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 47 [models/interface/interface.js:634]
[2018-04-30T13:23:27.365] [DEBUG] app -  select 47 as newfirewall, P.*  from policy_r P  where P.firewall='2' [models/policy/policy_r.js:556]
[2018-04-30T13:23:27.375] [DEBUG] app -  select 47 as newfirewall, 81 as newrule, O.*  from policy_r__ipobj O  where O.rule=4 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:23:27.379] [DEBUG] app -  select 47 as newfirewall, 82 as newrule, O.*  from policy_r__ipobj O  where O.rule=5 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:23:27.383] [DEBUG] app -  select 47 as newfirewall, 83 as newrule, O.*  from policy_r__ipobj O  where O.rule=56 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T13:23:27.395] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 47,
  newrule: 81,
  id_pi: 2,
  rule: 4,
  ipobj: 4,
  ipobj_g: -1,
  interface: -1,
  position: 2,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:29.000Z,
  updated_at: 2018-04-27T14:03:29.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:23:27.397] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where O.id_fwb=4 AND I.firewall= 47 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:23:27.398] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 47,
  newrule: 81,
  id_pi: 1,
  rule: 4,
  ipobj: 5,
  ipobj_g: -1,
  interface: -1,
  position: 1,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-27T14:03:21.000Z,
  updated_at: 2018-04-27T14:03:21.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:23:27.398] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where O.id_fwb=5 AND I.firewall= 47 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:23:27.402] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 47,
  newrule: 82,
  id_pi: 54,
  rule: 5,
  ipobj: 196,
  ipobj_g: -1,
  interface: -1,
  position: 8,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:23.000Z,
  updated_at: 2018-04-30T10:12:23.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:23:27.402] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where O.id_fwb=196 AND I.firewall= 47 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:23:27.403] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 47,
  newrule: 82,
  id_pi: 53,
  rule: 5,
  ipobj: 197,
  ipobj_g: -1,
  interface: -1,
  position: 7,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T10:12:20.000Z,
  updated_at: 2018-04-30T10:12:20.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:23:27.403] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where O.id_fwb=197 AND I.firewall= 47 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:23:27.407] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 47,
  newrule: 83,
  id_pi: 43,
  rule: 56,
  ipobj: -1,
  ipobj_g: -1,
  interface: 7,
  position: 12,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:10.000Z,
  updated_at: 2018-04-30T09:46:10.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:23:27.407] [DEBUG] app - --------- >>>> SQL INTERFACE OTHER:  select id from interface where id_fwb=7 AND firewall= 47 [models/policy/policy_r__ipobj.js:257]
[2018-04-30T13:23:27.408] [DEBUG] app - policy_r__ipobjData:  RowDataPacket {
  newfirewall: 47,
  newrule: 83,
  id_pi: 42,
  rule: 56,
  ipobj: 3,
  ipobj_g: -1,
  interface: -1,
  position: 11,
  position_order: 1,
  negate: 0,
  created_at: 2018-04-30T09:46:02.000Z,
  updated_at: 2018-04-30T09:46:02.000Z,
  created_by: 0,
  updated_by: 0 } [models/policy/policy_r__ipobj.js:241]
[2018-04-30T13:23:27.408] [DEBUG] app - --------- >>>> SQL IPOBJ OTHER:  select O.id from ipobj O inner join interface I on I.id=O.interface  where O.id_fwb=3 AND I.firewall= 47 [models/policy/policy_r__ipobj.js:278]
[2018-04-30T13:23:27.421] [DEBUG] app - ---> ORDENANDO RULE : 81 IPOBJ:4 Interface:-1 IPOBJ_G:-1  POSITION: 2  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:23:27.421] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 81 AND position=2 AND position_order>=1 AND position_order<=999999 AND ipobj<>4 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:23:27.424] [DEBUG] app - ---> ORDENANDO RULE : 81 IPOBJ:5 Interface:-1 IPOBJ_G:-1  POSITION: 1  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:23:27.425] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 81 AND position=1 AND position_order>=1 AND position_order<=999999 AND ipobj<>5 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:23:27.427] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 81 [models/policy/policy_r.js:623]
[2018-04-30T13:23:27.428] [DEBUG] app - -------> SQL ALL INTERFACES:   select 81 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=4 AND I.firewall= 47 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:23:27.429] [DEBUG] app - ---> ORDENANDO RULE : 82 IPOBJ:342 Interface:-1 IPOBJ_G:-1  POSITION: 8  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:23:27.429] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 82 AND position=8 AND position_order>=1 AND position_order<=999999 AND ipobj<>342 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:23:27.432] [DEBUG] app - ---> ORDENANDO RULE : 82 IPOBJ:343 Interface:-1 IPOBJ_G:-1  POSITION: 7  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:23:27.433] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 82 AND position=7 AND position_order>=1 AND position_order<=999999 AND ipobj<>343 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:23:27.433] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 82 [models/policy/policy_r.js:623]
[2018-04-30T13:23:27.433] [DEBUG] app - -------> SQL ALL INTERFACES:   select 82 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=5 AND I.firewall= 47 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:23:27.442] [DEBUG] app - ---> ORDENANDO RULE : 83 IPOBJ:-1 Interface:106 IPOBJ_G:-1  POSITION: 12  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:23:27.442] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 83 AND position=12 AND position_order>=1 AND position_order<=999999 AND interface<>106 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:23:27.445] [DEBUG] app - ---> ORDENANDO RULE : 83 IPOBJ:3 Interface:-1 IPOBJ_G:-1  POSITION: 11  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__ipobj.js:519]
[2018-04-30T13:23:27.445] [DEBUG] app - UPDATE policy_r__ipobj SET position_order = position_order+1 WHERE rule = 83 AND position=11 AND position_order>=1 AND position_order<=999999 AND ipobj<>3 [models/policy/policy_r__ipobj.js:534]
[2018-04-30T13:23:27.446] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 83 [models/policy/policy_r.js:623]
[2018-04-30T13:23:27.446] [DEBUG] app - -------> SQL ALL INTERFACES:   select 83 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=56 AND I.firewall= 47 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T13:23:27.451] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 82 [models/policy/policy_r.js:642]
[2018-04-30T13:23:27.453] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 83 [models/policy/policy_r.js:642]
[2018-04-30T13:23:27.458] [DEBUG] app - ---> ORDENANDO RULE INTERFACE: 81 POSITION: 20  OLD_ORDER: 999999  NEW_ORDER: 1 [models/policy/policy_r__interface.js:300]
[2018-04-30T13:23:27.458] [DEBUG] app - UPDATE policy_r__interface SET position_order = position_order+1 WHERE rule = 81 AND position=20 AND position_order>=1 AND position_order<=999999 AND interface<>105 [models/policy/policy_r__interface.js:310]
[2018-04-30T13:23:27.459] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 81 [models/policy/policy_r.js:642]
[2018-04-30T13:23:27.459] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 47 [models/policy/policy_r.js:565]
[2018-04-30T13:23:27.464] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id= 47 [models/tree/fwc_tree.js:560]
[2018-04-30T13:23:27.470] [DEBUG] app - INSERT FIREWALL OK NODE: 47 - FW-CLONZ11  --> FWCTREE: 1068 [models/tree/fwc_tree.js:586]
[2018-04-30T13:23:27.471] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("FILTER POLICIES","",1068,1,3,"FP",0,0,47,0,1,1) [models/tree/fwc_tree.js:594]
[2018-04-30T13:23:27.471] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",1068,2,3,"NT",0,0,47,0,1,1) [models/tree/fwc_tree.js:634]
[2018-04-30T13:23:27.475] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 1069 [models/tree/fwc_tree.js:600]
[2018-04-30T13:23:27.475] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("INPUT","",1069,1,4,"PI",0,0,47,1,1,1,1) [models/tree/fwc_tree.js:604]
[2018-04-30T13:23:27.476] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",1069,2,4,"PO",0,0,47,2,1,1,1) [models/tree/fwc_tree.js:612]
[2018-04-30T13:23:27.476] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",1069,3,4,"PF",0,0,47,3,1,1,1) [models/tree/fwc_tree.js:620]
[2018-04-30T13:23:27.479] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("SNAT","",1070,1,4,"NTS",0,0,47,4,1,1,0) [models/tree/fwc_tree.js:643]
[2018-04-30T13:23:27.480] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",1070,2,4,"NTD",0,0,47,5,1,1,0) [models/tree/fwc_tree.js:651]
[2018-04-30T13:23:33.693] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:33.699] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:33.702] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:33.706] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:33.955] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:23:33.955] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"7998-VJ96pbDOQZFeQCyRBYZlIpetQjI"' } [app.js:161]
[2018-04-30T13:23:33.956] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:23:33.956] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T13:23:33.956] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:23:33.957] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:23:33.957] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:23:33.958] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:23:33.958] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:23:33.959] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:23:33.960] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:23:33.961] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"191f-dXFIheUVZ9iJIgeDeAEeMajbb7c"' } [app.js:161]
[2018-04-30T13:23:33.962] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:23:33.962] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T13:23:33.962] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:23:33.964] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:23:33.967] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:23:33.968] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:23:33.968] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:23:33.969] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:23:33.969] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T13:23:33.973] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T13:23:33.975] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.021] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.023] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T13:23:34.024] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.026] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T13:23:34.027] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.028] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T13:23:34.029] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.031] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T13:23:34.036] [DEBUG] app - DETECTED FIRWEWALL NODE: 1050   FIREWALL: 46 - FW-CLONZ10 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.069] [DEBUG] app - DETECTED FIRWEWALL NODE: 1068   FIREWALL: 47 - FW-CLONZ11 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.098] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.109] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.126] [DEBUG] app - DETECTED FIRWEWALL NODE: 996   FIREWALL: 43 - FW-CLONZ7 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.139] [DEBUG] app - DETECTED FIRWEWALL NODE: 1014   FIREWALL: 44 - FW-CLONZ8 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:34.152] [DEBUG] app - DETECTED FIRWEWALL NODE: 1032   FIREWALL: 45 - FW-CLONZ9 [models/tree/fwc_tree.js:142]
[2018-04-30T13:23:39.373] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:39.375] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:39.628] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:23:39.628] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T13:23:39.628] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:23:39.628] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T13:23:39.628] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:23:39.629] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:23:39.629] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:23:39.629] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:23:39.630] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:23:39.665] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:39.667] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:39.669] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:39.670] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T13:23:39.922] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:23:39.923] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T13:23:39.923] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:23:39.923] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/47/type/3 [app.js:163]
[2018-04-30T13:23:39.923] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:23:39.924] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T13:23:39.924] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  cookie: 'FWCloud.net-cookie=s%3Aoxy3i7CJy0C1icKOIldU2qPTd_Zgzi2a.wxBh7nI0gYrTT%2BsnSONoDLKjJ7z0eXh7CafifwczCpk',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T13:23:39.924] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T13:23:39.925] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T13:23:39.925] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T13:23:39.926] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:23:39.926] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:23:39.927] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:23:39.927] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:23:39.928] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T13:23:39.929] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T13:23:39.929] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T13:23:39.929] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T13:23:39.933] [DEBUG] app - MOSTRANDO POLICY para firewall: 47  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T13:23:39.939] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='47' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T13:23:39.944] [DEBUG] app - 1 ---> DENTRO de REGLA: 82 ORDER: 5 [models/policy/policy_r.js:106]
[2018-04-30T13:23:39.951] [DEBUG] app - BUCLE REGLA:82  POSITION:7  IPOBJ ID: 343  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:23:39.953] [DEBUG] app - BUCLE REGLA:82  POSITION:8  IPOBJ ID: 342  IPOBJ_GROUP: -1  TYPE: O  INTERFACE:-1   ORDER:1  NEGATE:0 [models/policy/policy_r.js:145]
[2018-04-30T13:40:11.272] [DEBUG] app - OK CHECKLOCK: true [app.js:330]
[2018-04-30T13:40:11.282] [INFO] app - -----> UNLOCK FWCLOUD: 1 BY TIMEOT INACTIVITY of 16  Min LAST UPDATE: Mon Apr 30 2018 13:23:27 GMT+0200 (CEST)  LAST LOCK: Mon Apr 30 2018 13:09:02 GMT+0200 (CEST)  BY: 1 [models/fwcloud/fwcloud.js:205]
[2018-04-30T14:13:18.131] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.134] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.137] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:13:18.138] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: '',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  'content-length': '513',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:13:18.138] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:13:18.138] [DEBUG] app - METHOD: POST   PATHNAME: /clusters/cluster [app.js:163]
[2018-04-30T14:13:18.138] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T14:13:18.140] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:13:18.141] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T14:13:18.143] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:13:18.144] [DEBUG] app - TABLE fwcloud LOCKED [db.js:74]
[2018-04-30T14:13:18.144] [DEBUG] app - START TX [db.js:95]
[2018-04-30T14:13:18.146] [DEBUG] app - SELECT C.id FROM fwcloud C  INNER JOIN user__cloud U on U.fwcloud=C.id AND U.id_user='1' WHERE C.id = '1' AND U.allow_access=1 AND U.allow_edit=1  [models/fwcloud/fwcloud.js:402]
[2018-04-30T14:13:18.147] [DEBUG] app - UPDATE fwcloud SET locked = 1,locked_at = CURRENT_TIMESTAMP ,locked_by = '1'  WHERE id = 1 [models/fwcloud/fwcloud.js:410]
[2018-04-30T14:13:18.150] [INFO] app - FWCLOUD: 1  LOCKED BY USER: 1 [utils/utils.js:109]
[2018-04-30T14:13:18.150] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and GET LOCKED  [utils/utils.js:110]
[2018-04-30T14:13:18.151] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: '',
  sessionID: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3' } [utils/utils.js:166]
[2018-04-30T14:13:18.151] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T14:13:18.153] [DEBUG] app - END TX [db.js:114]
[2018-04-30T14:13:18.156] [DEBUG] app - COMPARANDO TOKEN USER:   [models/user/user.js:158]
[2018-04-30T14:13:18.157] [DEBUG] app - CON TOKEN REQUEST:   [models/user/user.js:159]
[2018-04-30T14:13:18.157] [DEBUG] app - ----> GENERATED NEW CONFIRMATION TOKEN:  vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J [models/user/user.js:164]
[2018-04-30T14:13:18.208] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.217] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.218] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:13:18.218] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"93d-0HcGtCenIiH4qF3mm3nlfV3ZlAg"' } [app.js:161]
[2018-04-30T14:13:18.219] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:13:18.219] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types/ [app.js:163]
[2018-04-30T14:13:18.219] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:13:18.221] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:13:18.221] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:13:18.222] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:13:18.222] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:13:18.231] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.236] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.237] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:13:18.237] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  'content-length': '513',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:13:18.237] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:13:18.238] [DEBUG] app - METHOD: POST   PATHNAME: /clusters/cluster [app.js:163]
[2018-04-30T14:13:18.238] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T14:13:18.239] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.247] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:13:18.247] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T14:13:18.247] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T14:13:18.248] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:13:18.249] [DEBUG] app - checkConfirmationToken:  { iduser: '1',
  fwcloud: '1',
  confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  sessionID: 'inJDfFpkJBmPzIO20w3rWoSdctbuSF_r' } [utils/utils.js:166]
[2018-04-30T14:13:18.250] [DEBUG] app - Restricted:  {} [utils/utils.js:167]
[2018-04-30T14:13:18.251] [DEBUG] app - COMPARANDO TOKEN USER:  vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J [models/user/user.js:158]
[2018-04-30T14:13:18.251] [DEBUG] app - CON TOKEN REQUEST:  vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J [models/user/user.js:159]
[2018-04-30T14:13:18.256] [DEBUG] app - JSON RECIBIDO:  { clusterData: 
   { id: '',
     container: 'firewalls',
     name: 'CLUSTER44',
     comment: '',
     fwnodes: [ [Object], [Object] ] } } [routes/firewall/clusters.js:188]
[2018-04-30T14:13:18.257] [DEBUG] app - { name: 'CLUSTER44', comment: '', fwcloud: '1' } '[models/firewall/cluster.js:121]'
[2018-04-30T14:13:18.259] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.260] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:13:18.260] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2632-Ur08ZWnV+o8WwWVqN8scvExTXxU"' } [app.js:161]
[2018-04-30T14:13:18.261] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:13:18.262] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-protocols [app.js:163]
[2018-04-30T14:13:18.262] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:13:18.265] [DEBUG] app - SELECT T1.* FROM fwc_tree T1  where T1.node_type='FDC' and T1.id_parent=0 AND T1.fwcloud='1' order by T1.node_order [models/tree/fwc_tree.js:1000]
[2018-04-30T14:13:18.274] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:13:18.275] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:13:18.275] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:13:18.276] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:13:18.280] [DEBUG] app - FWNODES:  [ { id: null,
    name: 'FWC44_M',
    comment: null,
    fwcloud: null,
    install_user: null,
    install_pass: null,
    save_user_pass: 1,
    install_interface: null,
    install_ipobj: null,
    fwmaster: 1,
    install_port: 22,
    cluster: null },
  { id: null,
    name: 'FWC44_S',
    comment: null,
    fwcloud: null,
    install_user: null,
    install_pass: null,
    save_user_pass: 1,
    install_interface: null,
    install_ipobj: null,
    fwmaster: 0,
    install_port: 22,
    cluster: null } ] [routes/firewall/clusters.js:211]
[2018-04-30T14:13:18.288] [DEBUG] app - NODE FIREWALL:   { id: null,
  name: 'FWC44_M',
  comment: null,
  fwcloud: '1',
  install_user: '',
  install_pass: '',
  save_user_pass: true,
  install_interface: null,
  install_ipobj: null,
  fwmaster: 1,
  install_port: 22,
  cluster: 3,
  by_user: '1' } [routes/firewall/clusters.js:221]
[2018-04-30T14:13:18.290] [DEBUG] app - NODE FIREWALL:   { id: null,
  name: 'FWC44_S',
  comment: null,
  fwcloud: '1',
  install_user: '',
  install_pass: '',
  save_user_pass: true,
  install_interface: null,
  install_ipobj: null,
  fwmaster: 0,
  install_port: 22,
  cluster: 3,
  by_user: '1' } [routes/firewall/clusters.js:221]
[2018-04-30T14:13:18.291] [DEBUG] app - SSHUSER:    ENCRYPTED:  [routes/firewall/clusters.js:225]
[2018-04-30T14:13:18.291] [DEBUG] app - SSPASS:    ENCRYPTED:  [routes/firewall/clusters.js:230]
[2018-04-30T14:13:18.291] [DEBUG] app - SSHUSER:    ENCRYPTED:  [routes/firewall/clusters.js:225]
[2018-04-30T14:13:18.292] [DEBUG] app - SSPASS:    ENCRYPTED:  [routes/firewall/clusters.js:230]
[2018-04-30T14:13:18.294] [DEBUG] app - SAVING DATA NODE CLUSTER. SAVE USER_PASS: true [routes/firewall/clusters.js:234]
[2018-04-30T14:13:18.295] [DEBUG] app - SAVING DATA NODE CLUSTER. SAVE USER_PASS: true [routes/firewall/clusters.js:234]
[2018-04-30T14:13:18.334] [DEBUG] app - INSERT CLUSTER OK NODE: 3 - CLUSTER44  --> FWCTREE: 1086 [models/tree/fwc_tree.js:1039]
[2018-04-30T14:13:18.335] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree)  VALUES ("FILTER POLICIES","",1086,1,3,"FP",0,0,3,null,1,1) [models/tree/fwc_tree.js:1047]
[2018-04-30T14:13:18.335] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",1086,2,3,"NT",0,0,3,null,1,1) [models/tree/fwc_tree.js:1087]
[2018-04-30T14:13:18.347] [DEBUG] app - FIREWALL CLUSTER INSERTED OK:  48 [routes/firewall/clusters.js:242]
[2018-04-30T14:13:18.349] [DEBUG] app - FIREWALL CLUSTER INSERTED OK:  49 [routes/firewall/clusters.js:242]
[2018-04-30T14:13:18.350] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 1087 [models/tree/fwc_tree.js:1053]
[2018-04-30T14:13:18.351] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree, show_action)  VALUES ("INPUT","",1087,1,4,"PI",0,0,3,1,1,1,1) [models/tree/fwc_tree.js:1057]
[2018-04-30T14:13:18.351] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",1087,2,4,"PO",0,0,3,2,1,1,1) [models/tree/fwc_tree.js:1065]
[2018-04-30T14:13:18.351] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",1087,3,4,"PF",0,0,3,3,1,1,1) [models/tree/fwc_tree.js:1073]
[2018-04-30T14:13:18.354] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree, show_action)  VALUES ("SNAT","",1088,1,4,"NTS",0,0,3,4,1,1,0) [models/tree/fwc_tree.js:1096]
[2018-04-30T14:13:18.355] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",1088,2,4,"NTD",0,0,3,5,1,1,0) [models/tree/fwc_tree.js:1104]
[2018-04-30T14:13:18.369] [DEBUG] app - UPDATE firewall SET fwmaster = 1, by_user = '1' WHERE id = 48 AND fwcloud=1 AND cluster=3 [models/firewall/firewall.js:548]
[2018-04-30T14:13:18.370] [DEBUG] app - UPDATE firewall SET fwmaster = 0, by_user = '1' WHERE id = 49 AND fwcloud=1 AND cluster=3 [models/firewall/firewall.js:548]
[2018-04-30T14:13:18.373] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.376] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.379] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.380] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:13:18.380] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"8ad8-5fKZK3rh+6eF86PwF1yI/wyMPl4"' } [app.js:161]
[2018-04-30T14:13:18.380] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:13:18.381] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T14:13:18.381] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:13:18.383] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:13:18.383] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:13:18.384] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"191f-dXFIheUVZ9iJIgeDeAEeMajbb7c"' } [app.js:161]
[2018-04-30T14:13:18.384] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:13:18.384] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T14:13:18.384] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:13:18.392] [DEBUG] app - UPDATE firewall SET fwmaster = 0, by_user = '1' WHERE id <> 48 AND fwcloud=1 AND cluster=3 [models/firewall/firewall.js:558]
[2018-04-30T14:13:18.394] [DEBUG] app - SELECT T1.* FROM fwc_tree T1  where T1.node_type='FCF' AND (T1.id_obj=(select id from firewall where cluster=3 and fwmaster=1 and fwcloud='1') OR T1.id_obj=3)   AND T1.fwcloud='1' order by T1.node_order [models/tree/fwc_tree.js:803]
[2018-04-30T14:13:18.397] [DEBUG] app - SELECT T1.* FROM fwc_tree T1  where T1.node_type='FCF' AND (T1.id_obj=(select id from firewall where cluster=3 and fwmaster=1 and fwcloud='1') OR T1.id_obj=3)   AND T1.fwcloud='1' order by T1.node_order [models/tree/fwc_tree.js:803]
[2018-04-30T14:13:18.399] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:13:18.400] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:13:18.400] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:13:18.400] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:13:18.401] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T14:13:18.402] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:13:18.403] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:13:18.403] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:13:18.404] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:13:18.404] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T14:13:18.408] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id=48 [models/tree/fwc_tree.js:817]
[2018-04-30T14:13:18.408] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id=48 [models/tree/fwc_tree.js:817]
[2018-04-30T14:13:18.410] [DEBUG] app - CATCHING RULES CREATED FOR FIREWALL:  48   FWMASTER:  1 [routes/firewall/clusters.js:251]
[2018-04-30T14:13:18.411] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id=49 [models/tree/fwc_tree.js:817]
[2018-04-30T14:13:18.411] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id=49 [models/tree/fwc_tree.js:817]
[2018-04-30T14:13:18.413] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T14:13:18.414] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T14:13:18.429] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, `subfolders`, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ('FWC44_M',NULL,1091,1,4,"FW",0,0,48,0,1,1) [models/tree/fwc_tree.js:836]
[2018-04-30T14:13:18.431] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, `subfolders`, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ('FWC44_M',NULL,246,1,4,"FW",0,0,48,0,1,1) [models/tree/fwc_tree.js:836]
[2018-04-30T14:13:18.441] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, `subfolders`, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ('FWC44_S',NULL,1091,1,4,"FW",0,0,49,0,1,1) [models/tree/fwc_tree.js:836]
[2018-04-30T14:13:18.442] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, `subfolders`, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ('FWC44_S',NULL,246,1,4,"FW",0,0,49,0,1,1) [models/tree/fwc_tree.js:836]
[2018-04-30T14:13:18.448] [DEBUG] app - INSERT FIREWALL OK NODE: 48 - FWC44_M  --> FWCTREE: 1097 [models/tree/fwc_tree.js:843]
[2018-04-30T14:13:18.450] [DEBUG] app - UPDATING CLUSTER STRUCTURE: 48 - FWC44_M  CLUSTER:  3   IDFIREWAL:  48   FWMASTER:  1 [models/tree/fwc_tree.js:941]
[2018-04-30T14:13:18.452] [DEBUG] app - INSERT FIREWALL OK NODE: 48 - FWC44_M  --> FWCTREE: 1098 [models/tree/fwc_tree.js:843]
[2018-04-30T14:13:18.453] [DEBUG] app - UPDATING CLUSTER STRUCTURE: 48 - FWC44_M  CLUSTER:  3   IDFIREWAL:  48   FWMASTER:  1 [models/tree/fwc_tree.js:941]
[2018-04-30T14:13:18.456] [DEBUG] app - FIREWALL: 48 with CATCHING ALL INPUT RULE CREATED:  84 [models/policy/policy_r.js:484]
[2018-04-30T14:13:18.471] [DEBUG] app - FIREWALL: 48 with CATCHING ALL FORWARD RULE CREATED:  85 [models/policy/policy_r.js:497]
[2018-04-30T14:13:18.475] [DEBUG] app - FIREWALL: 48 with CATCHING ALL OUTPUT RULE CREATED:  86 [models/policy/policy_r.js:511]
[2018-04-30T14:13:18.478] [DEBUG] app - INSERT FIREWALL OK NODE: 49 - FWC44_S  --> FWCTREE: 1099 [models/tree/fwc_tree.js:843]
[2018-04-30T14:13:18.480] [DEBUG] app - INSERT FIREWALL OK NODE: 49 - FWC44_S  --> FWCTREE: 1100 [models/tree/fwc_tree.js:843]
[2018-04-30T14:13:18.481] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.567] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.570] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T14:13:18.571] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.575] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T14:13:18.577] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.580] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T14:13:18.584] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.586] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T14:13:18.588] [DEBUG] app - DETECTED FIRWEWALL NODE: 1050   FIREWALL: 46 - FW-CLONZ10 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.634] [DEBUG] app - DETECTED FIRWEWALL NODE: 1068   FIREWALL: 47 - FW-CLONZ11 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.659] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.681] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.699] [DEBUG] app - DETECTED FIRWEWALL NODE: 996   FIREWALL: 43 - FW-CLONZ7 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.719] [DEBUG] app - DETECTED FIRWEWALL NODE: 1014   FIREWALL: 44 - FW-CLONZ8 [models/tree/fwc_tree.js:142]
[2018-04-30T14:13:18.736] [DEBUG] app - DETECTED FIRWEWALL NODE: 1032   FIREWALL: 45 - FW-CLONZ9 [models/tree/fwc_tree.js:142]
[2018-04-30T14:14:56.771] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T14:16:02.438] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T14:17:30.040] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T14:17:30.049] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:17:30.050] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '230dac3a-f8a4-4755-9f91-5d2cb0695691',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '47',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:17:30.052] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:17:30.052] [DEBUG] app - METHOD: PUT   PATHNAME: /clusters/clone/cluster/3 [app.js:163]
[2018-04-30T14:17:30.053] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T14:17:30.061] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:17:30.062] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T14:17:30.062] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T14:17:30.062] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:17:30.064] [DEBUG] app - { name: 'CLUSTER CLONZ1',
  comment: 'cluster clonado',
  fwcloud: '1',
  by_user: '1' } '[routes/firewall/clusters.js:434]'
[2018-04-30T14:17:30.072] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:17:30.072] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:17:30.073] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:17:30.074] [DEBUG] app - { name: 'CLUSTER CLONZ1',
  comment: 'cluster clonado',
  fwcloud: '1',
  by_user: '1' } '[models/firewall/cluster.js:121]'
[2018-04-30T14:17:30.079] [DEBUG] app - { response: 
   { respStatus: false,
     respCode: 'ACR_NOTEXIST',
     respCodeMsg: 'CLUSTER not exist',
     respMsg: 'Error',
     errorCode: 'ER_BAD_FIELD_ERROR',
     errorMsg: 'ER_BAD_FIELD_ERROR: Unknown column \'by_user\' in \'field list\'' },
  data: {} } '[utils/api_response.js:210]'
[2018-04-30T14:19:30.473] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T14:19:35.357] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T14:19:35.372] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:19:35.373] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '0db57730-5e89-4f27-be66-05b88fb843a3',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '47',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:19:35.375] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:19:35.376] [DEBUG] app - METHOD: PUT   PATHNAME: /clusters/clone/cluster/3 [app.js:163]
[2018-04-30T14:19:35.376] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T14:19:35.381] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:19:35.382] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T14:19:35.382] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T14:19:35.382] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:19:35.386] [DEBUG] app - { name: 'CLUSTER CLONZ1',
  comment: 'cluster clonado',
  fwcloud: '1',
  by_user: '1' } '[routes/firewall/clusters.js:434]'
[2018-04-30T14:19:35.386] [DEBUG] app - SELECT T.*  , I.name as interface_name, O.name as ip_name, O.address as ip  FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall AND U.id_user='1' LEFT join interface I on I.id=T.install_interface  LEFT join ipobj O on O.id=T.install_ipobj and O.interface=I.id  WHERE cluster =  '3'  AND U.allow_access=1 AND fwmaster=1 [models/firewall/firewall.js:306]
[2018-04-30T14:19:35.394] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:19:35.395] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:19:35.395] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:19:35.396] [DEBUG] app - firewallData:  RowDataPacket {
  id: 48,
  cluster: 3,
  fwcloud: 1,
  name: 'FWC44_M',
  comment: null,
  created_at: 2018-04-30T12:13:18.000Z,
  updated_at: 2018-04-30T12:13:18.000Z,
  by_user: 1,
  id_fwb: null,
  status_compiled: 0,
  install_user: '',
  install_pass: '',
  save_user_pass: 1,
  install_interface: null,
  install_ipobj: null,
  fwmaster: 1,
  install_port: 22,
  ip_admin: null,
  interface_name: null,
  ip_name: null,
  ip: null } [routes/firewall/clusters.js:442]
[2018-04-30T14:19:35.397] [DEBUG] app - { name: 'CLUSTER CLONZ1',
  comment: 'cluster clonado',
  fwcloud: '1',
  by_user: '1' } '[models/firewall/cluster.js:121]'
[2018-04-30T14:19:35.399] [DEBUG] app - { response: 
   { respStatus: false,
     respCode: 'ACR_NOTEXIST',
     respCodeMsg: 'CLUSTER not exist',
     respMsg: 'Error',
     errorCode: 'ER_BAD_FIELD_ERROR',
     errorMsg: 'ER_BAD_FIELD_ERROR: Unknown column \'by_user\' in \'field list\'' },
  data: {} } '[utils/api_response.js:210]'
[2018-04-30T14:21:31.426] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T14:21:41.481] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T14:21:41.490] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:21:41.495] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '687cdb08-aa98-4cb0-8736-36649a50321e',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '47',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:21:41.498] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:21:41.498] [DEBUG] app - METHOD: PUT   PATHNAME: /clusters/clone/cluster/3 [app.js:163]
[2018-04-30T14:21:41.498] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T14:21:41.504] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:21:41.505] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T14:21:41.505] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T14:21:41.506] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:21:41.508] [DEBUG] app - { name: 'CLUSTER CLONZ1',
  comment: 'cluster clonado',
  fwcloud: '1' } '[routes/firewall/clusters.js:433]'
[2018-04-30T14:21:41.509] [DEBUG] app - SELECT T.*  , I.name as interface_name, O.name as ip_name, O.address as ip  FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall AND U.id_user='1' LEFT join interface I on I.id=T.install_interface  LEFT join ipobj O on O.id=T.install_ipobj and O.interface=I.id  WHERE cluster =  '3'  AND U.allow_access=1 AND fwmaster=1 [models/firewall/firewall.js:306]
[2018-04-30T14:21:41.513] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:21:41.514] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:21:41.515] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:21:41.516] [DEBUG] app - firewallData:  RowDataPacket {
  id: 48,
  cluster: 3,
  fwcloud: 1,
  name: 'FWC44_M',
  comment: null,
  created_at: 2018-04-30T12:13:18.000Z,
  updated_at: 2018-04-30T12:13:18.000Z,
  by_user: 1,
  id_fwb: null,
  status_compiled: 0,
  install_user: '',
  install_pass: '',
  save_user_pass: 1,
  install_interface: null,
  install_ipobj: null,
  fwmaster: 1,
  install_port: 22,
  ip_admin: null,
  interface_name: null,
  ip_name: null,
  ip: null } [routes/firewall/clusters.js:441]
[2018-04-30T14:21:41.517] [DEBUG] app - { name: 'CLUSTER CLONZ1',
  comment: 'cluster clonado',
  fwcloud: '1' } '[models/firewall/cluster.js:121]'
[2018-04-30T14:21:41.524] [DEBUG] app - SELECT T1.* FROM fwc_tree T1  where T1.node_type='FDC' and T1.id_parent=0 AND T1.fwcloud='1' order by T1.node_order [models/tree/fwc_tree.js:1000]
[2018-04-30T14:21:41.531] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = 48 AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T14:21:41.535] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FWC44_M', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 48 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T14:21:41.538] [DEBUG] app - INSERT CLUSTER OK NODE: 4 - CLUSTER CLONZ1  --> FWCTREE: 1101 [models/tree/fwc_tree.js:1039]
[2018-04-30T14:21:41.539] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree)  VALUES ("FILTER POLICIES","",1101,1,3,"FP",0,0,4,null,1,1) [models/tree/fwc_tree.js:1047]
[2018-04-30T14:21:41.539] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",1101,2,3,"NT",0,0,4,null,1,1) [models/tree/fwc_tree.js:1087]
[2018-04-30T14:21:41.544] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 1102 [models/tree/fwc_tree.js:1053]
[2018-04-30T14:21:41.544] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree, show_action)  VALUES ("INPUT","",1102,1,4,"PI",0,0,4,1,1,1,1) [models/tree/fwc_tree.js:1057]
[2018-04-30T14:21:41.544] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",1102,2,4,"PO",0,0,4,2,1,1,1) [models/tree/fwc_tree.js:1065]
[2018-04-30T14:21:41.545] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",1102,3,4,"PF",0,0,4,3,1,1,1) [models/tree/fwc_tree.js:1073]
[2018-04-30T14:21:41.547] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree, show_action)  VALUES ("SNAT","",1103,1,4,"NTS",0,0,4,4,1,1,0) [models/tree/fwc_tree.js:1096]
[2018-04-30T14:21:41.547] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",1103,2,4,"NTD",0,0,4,5,1,1,0) [models/tree/fwc_tree.js:1104]
[2018-04-30T14:21:41.558] [DEBUG] app - NUEVO FIREWALL CREADO: 50 [routes/firewall/clusters.js:466]
[2018-04-30T14:21:41.559] [DEBUG] app -  select 50 as newfirewall, I.*  from interface I  where I.firewall=48 [models/interface/interface.js:625]
[2018-04-30T14:21:41.568] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 50 [models/interface/interface.js:634]
[2018-04-30T14:21:41.569] [DEBUG] app -  select 50 as newfirewall, P.*  from policy_r P  where P.firewall=48 [models/policy/policy_r.js:556]
[2018-04-30T14:21:41.574] [DEBUG] app -  select 50 as newfirewall, 87 as newrule, O.*  from policy_r__ipobj O  where O.rule=84 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:21:41.577] [DEBUG] app -  select 50 as newfirewall, 88 as newrule, O.*  from policy_r__ipobj O  where O.rule=85 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:21:41.579] [DEBUG] app -  select 50 as newfirewall, 89 as newrule, O.*  from policy_r__ipobj O  where O.rule=86 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:21:41.585] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 87 [models/policy/policy_r.js:623]
[2018-04-30T14:21:41.586] [DEBUG] app - -------> SQL ALL INTERFACES:   select 87 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=84 AND I.firewall= 50 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:21:41.592] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 88 [models/policy/policy_r.js:623]
[2018-04-30T14:21:41.592] [DEBUG] app - -------> SQL ALL INTERFACES:   select 88 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=85 AND I.firewall= 50 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:21:41.595] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 89 [models/policy/policy_r.js:623]
[2018-04-30T14:21:41.596] [DEBUG] app - -------> SQL ALL INTERFACES:   select 89 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=86 AND I.firewall= 50 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:21:41.597] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 87 [models/policy/policy_r.js:642]
[2018-04-30T14:21:41.598] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 88 [models/policy/policy_r.js:642]
[2018-04-30T14:21:41.598] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 89 [models/policy/policy_r.js:642]
[2018-04-30T14:21:41.600] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 50 [models/policy/policy_r.js:565]
[2018-04-30T14:21:55.247] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:21:55.256] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:21:55.259] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:21:55.261] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:21:55.261] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"8ad8-5fKZK3rh+6eF86PwF1yI/wyMPl4"' } [app.js:161]
[2018-04-30T14:21:55.261] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:21:55.261] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T14:21:55.262] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:21:55.264] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:21:55.264] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:21:55.264] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:21:55.264] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:21:55.266] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T14:21:55.269] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:21:55.273] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:21:55.273] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"278a-i8Gb9cgxgVNOT9jQeknDh6GjHG8"' } [app.js:161]
[2018-04-30T14:21:55.273] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:21:55.273] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T14:21:55.274] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:21:55.277] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T14:21:55.280] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:21:55.282] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:21:55.283] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:21:55.283] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:21:55.285] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T14:21:55.291] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T14:21:55.293] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.373] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.377] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T14:21:55.381] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.385] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T14:21:55.391] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.394] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T14:21:55.397] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.401] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T14:21:55.403] [DEBUG] app - DETECTED FIRWEWALL NODE: 1050   FIREWALL: 46 - FW-CLONZ10 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.464] [DEBUG] app - DETECTED FIRWEWALL NODE: 1068   FIREWALL: 47 - FW-CLONZ11 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.494] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.509] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.530] [DEBUG] app - DETECTED FIRWEWALL NODE: 996   FIREWALL: 43 - FW-CLONZ7 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.544] [DEBUG] app - DETECTED FIRWEWALL NODE: 1014   FIREWALL: 44 - FW-CLONZ8 [models/tree/fwc_tree.js:142]
[2018-04-30T14:21:55.559] [DEBUG] app - DETECTED FIRWEWALL NODE: 1032   FIREWALL: 45 - FW-CLONZ9 [models/tree/fwc_tree.js:142]
[2018-04-30T14:22:00.917] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:00.919] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:00.921] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:00.922] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T14:22:00.922] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:00.922] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T14:22:00.922] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:00.924] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:00.925] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:00.926] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:00.926] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:00.988] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:00.994] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:00.995] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:00.996] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:00.996] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:22:00.996] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:00.996] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/4/type/1 [app.js:163]
[2018-04-30T14:22:00.996] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:00.997] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:01.001] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:01.001] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:01.001] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:01.002] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:01.004] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:01.005] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:01.005] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T14:22:01.005] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:01.006] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T14:22:01.006] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:01.010] [DEBUG] app - { response: 
   { respStatus: false,
     respCode: 'ACR_ACCESS_ERROR',
     respCodeMsg: 'FIREWALL Access not allowed by user access',
     respMsg: 'CHECK FIREWALL ACCESS NOT ALLOWED',
     errorCode: '',
     errorMsg: '' },
  data: {} } '[utils/api_response.js:210]'
[2018-04-30T14:22:01.011] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:01.012] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:01.012] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:01.012] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:01.016] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:01.017] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:01.017] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:22:01.017] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:01.017] [DEBUG] app - METHOD: GET   PATHNAME: /firewalls/cluster/4 [app.js:163]
[2018-04-30T14:22:01.017] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:01.023] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:01.023] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:01.024] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:01.024] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:02.198] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:02.200] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:02.201] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:02.201] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T14:22:02.202] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:02.202] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T14:22:02.202] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:02.203] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:02.204] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:02.204] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:02.204] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:02.262] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:02.268] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:02.269] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:02.270] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:22:02.270] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:02.270] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/4/type/2 [app.js:163]
[2018-04-30T14:22:02.270] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:02.273] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:02.273] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:02.274] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:02.274] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:02.276] [DEBUG] app - { response: 
   { respStatus: false,
     respCode: 'ACR_ACCESS_ERROR',
     respCodeMsg: 'FIREWALL Access not allowed by user access',
     respMsg: 'CHECK FIREWALL ACCESS NOT ALLOWED',
     errorCode: '',
     errorMsg: '' },
  data: {} } '[utils/api_response.js:210]'
[2018-04-30T14:22:02.281] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:02.286] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:02.289] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:02.290] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:02.290] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T14:22:02.291] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:02.291] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T14:22:02.291] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:02.294] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:02.295] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:02.295] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"9b-i4mCJhBIj+aphCssSE0dB1bGsCA"' } [app.js:161]
[2018-04-30T14:22:02.296] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:02.296] [DEBUG] app - METHOD: GET   PATHNAME: /firewalls/cluster/4 [app.js:163]
[2018-04-30T14:22:02.296] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:02.297] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:02.298] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:02.299] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:02.299] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:02.300] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:02.301] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:02.302] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:02.302] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:03.384] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:03.386] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:03.387] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:03.387] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T14:22:03.387] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:03.387] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T14:22:03.388] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:03.389] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:03.390] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:03.390] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:03.390] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:03.453] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:03.462] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:03.463] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:03.463] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:22:03.463] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:03.463] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/4/type/3 [app.js:163]
[2018-04-30T14:22:03.463] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:03.465] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:03.465] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:03.466] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:03.466] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:03.471] [DEBUG] app - { response: 
   { respStatus: false,
     respCode: 'ACR_ACCESS_ERROR',
     respCodeMsg: 'FIREWALL Access not allowed by user access',
     respMsg: 'CHECK FIREWALL ACCESS NOT ALLOWED',
     errorCode: '',
     errorMsg: '' },
  data: {} } '[utils/api_response.js:210]'
[2018-04-30T14:22:03.479] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:03.483] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:03.487] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:03.487] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:03.488] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T14:22:03.488] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:03.488] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T14:22:03.488] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:03.493] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:03.494] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:03.494] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"9b-i4mCJhBIj+aphCssSE0dB1bGsCA"' } [app.js:161]
[2018-04-30T14:22:03.494] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:03.495] [DEBUG] app - METHOD: GET   PATHNAME: /firewalls/cluster/4 [app.js:163]
[2018-04-30T14:22:03.495] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:03.500] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:03.502] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:03.502] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:03.502] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:03.503] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:03.504] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:03.504] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:03.504] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:08.089] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:08.092] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:08.092] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:08.092] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T14:22:08.093] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:08.093] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T14:22:08.093] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:08.095] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:08.095] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:08.095] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:08.095] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:08.137] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:08.140] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:08.142] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:08.143] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:08.144] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:08.144] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:22:08.144] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:08.144] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/4/type/4 [app.js:163]
[2018-04-30T14:22:08.145] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:08.147] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:08.148] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:08.148] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T14:22:08.148] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:08.148] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T14:22:08.149] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:08.150] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:08.150] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:08.150] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:08.150] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:08.151] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:22:08.151] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:22:08.152] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"9b-i4mCJhBIj+aphCssSE0dB1bGsCA"' } [app.js:161]
[2018-04-30T14:22:08.152] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:22:08.152] [DEBUG] app - METHOD: GET   PATHNAME: /firewalls/cluster/4 [app.js:163]
[2018-04-30T14:22:08.152] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:22:08.153] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:08.153] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:08.153] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:08.153] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:22:08.167] [DEBUG] app - { response: 
   { respStatus: false,
     respCode: 'ACR_ACCESS_ERROR',
     respCodeMsg: 'FIREWALL Access not allowed by user access',
     respMsg: 'CHECK FIREWALL ACCESS NOT ALLOWED',
     errorCode: '',
     errorMsg: '' },
  data: {} } '[utils/api_response.js:210]'
[2018-04-30T14:22:08.169] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:22:08.170] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:22:08.170] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:22:08.170] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:25:59.441] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T14:26:10.456] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T14:26:10.463] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:26:10.463] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': 'c5978e7c-4350-4044-b3c2-48335464ed23',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '47',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:26:10.465] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:26:10.465] [DEBUG] app - METHOD: PUT   PATHNAME: /clusters/clone/cluster/3 [app.js:163]
[2018-04-30T14:26:10.465] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T14:26:10.471] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:26:10.472] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T14:26:10.472] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T14:26:10.473] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:26:10.475] [DEBUG] app - { name: 'CLUSTER CLONZ2',
  comment: 'cluster clonado',
  fwcloud: '1' } '[routes/firewall/clusters.js:433]'
[2018-04-30T14:26:10.477] [DEBUG] app - SELECT T.*  , I.name as interface_name, O.name as ip_name, O.address as ip  FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall AND U.id_user='1' LEFT join interface I on I.id=T.install_interface  LEFT join ipobj O on O.id=T.install_ipobj and O.interface=I.id  WHERE cluster =  '3'  AND U.allow_access=1 AND fwmaster=1 [models/firewall/firewall.js:306]
[2018-04-30T14:26:10.480] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:26:10.480] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:26:10.481] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:26:10.481] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:26:10.481] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:26:10.481] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:26:10.482] [DEBUG] app - firewallData:  RowDataPacket {
  id: 48,
  cluster: 3,
  fwcloud: 1,
  name: 'FWC44_M',
  comment: null,
  created_at: 2018-04-30T12:13:18.000Z,
  updated_at: 2018-04-30T12:13:18.000Z,
  by_user: 1,
  id_fwb: null,
  status_compiled: 0,
  install_user: '',
  install_pass: '',
  save_user_pass: 1,
  install_interface: null,
  install_ipobj: null,
  fwmaster: 1,
  install_port: 22,
  ip_admin: null,
  interface_name: null,
  ip_name: null,
  ip: null } [routes/firewall/clusters.js:441]
[2018-04-30T14:26:10.483] [DEBUG] app - { name: 'CLUSTER CLONZ2',
  comment: 'cluster clonado',
  fwcloud: '1' } '[models/firewall/cluster.js:121]'
[2018-04-30T14:26:10.487] [DEBUG] app - SELECT T1.* FROM fwc_tree T1  where T1.node_type='FDC' and T1.id_parent=0 AND T1.fwcloud='1' order by T1.node_order [models/tree/fwc_tree.js:1000]
[2018-04-30T14:26:10.493] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = 48 AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T14:26:10.496] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FWC44_M', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 48 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T14:26:10.499] [DEBUG] app - INSERT CLUSTER OK NODE: 5 - CLUSTER CLONZ2  --> FWCTREE: 1112 [models/tree/fwc_tree.js:1039]
[2018-04-30T14:26:10.499] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree)  VALUES ("FILTER POLICIES","",1112,1,3,"FP",0,0,5,null,1,1) [models/tree/fwc_tree.js:1047]
[2018-04-30T14:26:10.500] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",1112,2,3,"NT",0,0,5,null,1,1) [models/tree/fwc_tree.js:1087]
[2018-04-30T14:26:10.505] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 1113 [models/tree/fwc_tree.js:1053]
[2018-04-30T14:26:10.505] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree, show_action)  VALUES ("INPUT","",1113,1,4,"PI",0,0,5,1,1,1,1) [models/tree/fwc_tree.js:1057]
[2018-04-30T14:26:10.506] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",1113,2,4,"PO",0,0,5,2,1,1,1) [models/tree/fwc_tree.js:1065]
[2018-04-30T14:26:10.506] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",1113,3,4,"PF",0,0,5,3,1,1,1) [models/tree/fwc_tree.js:1073]
[2018-04-30T14:26:10.508] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree, show_action)  VALUES ("SNAT","",1114,1,4,"NTS",0,0,5,4,1,1,0) [models/tree/fwc_tree.js:1096]
[2018-04-30T14:26:10.508] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",1114,2,4,"NTD",0,0,5,5,1,1,0) [models/tree/fwc_tree.js:1104]
[2018-04-30T14:26:10.518] [DEBUG] app - NUEVO FIREWALL CREADO: 51 [routes/firewall/clusters.js:466]
[2018-04-30T14:26:10.519] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = 48 AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:582]
[2018-04-30T14:26:10.520] [DEBUG] app -  select 51 as newfirewall, I.*  from interface I  where I.firewall=48 [models/interface/interface.js:625]
[2018-04-30T14:26:10.539] [DEBUG] app - updateFirewallCluster:  UPDATE firewall SET cluster = 5,by_user = '1'  WHERE id = 48 [models/firewall/firewall.js:589]
[2018-04-30T14:26:10.540] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 51 [models/interface/interface.js:634]
[2018-04-30T14:26:10.541] [DEBUG] app -  select 51 as newfirewall, P.*  from policy_r P  where P.firewall=48 [models/policy/policy_r.js:556]
[2018-04-30T14:26:10.545] [DEBUG] app - UPDATE firewall SET fwmaster = 1, by_user = '1' WHERE id = 51 AND fwcloud=1 AND cluster=5 [models/firewall/firewall.js:548]
[2018-04-30T14:26:10.548] [DEBUG] app -  select 51 as newfirewall, 90 as newrule, O.*  from policy_r__ipobj O  where O.rule=84 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:26:10.551] [DEBUG] app -  select 51 as newfirewall, 91 as newrule, O.*  from policy_r__ipobj O  where O.rule=85 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:26:10.555] [DEBUG] app -  select 51 as newfirewall, 92 as newrule, O.*  from policy_r__ipobj O  where O.rule=86 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:26:10.556] [DEBUG] app - UPDATE firewall SET fwmaster = 0, by_user = '1' WHERE id <> 51 AND fwcloud=1 AND cluster=5 [models/firewall/firewall.js:558]
[2018-04-30T14:26:10.560] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 90 [models/policy/policy_r.js:623]
[2018-04-30T14:26:10.561] [DEBUG] app - -------> SQL ALL INTERFACES:   select 90 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=84 AND I.firewall= 51 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:26:10.564] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 91 [models/policy/policy_r.js:623]
[2018-04-30T14:26:10.564] [DEBUG] app - -------> SQL ALL INTERFACES:   select 91 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=85 AND I.firewall= 51 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:26:10.567] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 92 [models/policy/policy_r.js:623]
[2018-04-30T14:26:10.567] [DEBUG] app - -------> SQL ALL INTERFACES:   select 92 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=86 AND I.firewall= 51 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:26:10.572] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 90 [models/policy/policy_r.js:642]
[2018-04-30T14:26:10.574] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 91 [models/policy/policy_r.js:642]
[2018-04-30T14:26:10.574] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 92 [models/policy/policy_r.js:642]
[2018-04-30T14:26:10.575] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 51 [models/policy/policy_r.js:565]
[2018-04-30T14:26:19.717] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:26:19.730] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:26:19.733] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:26:19.734] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:26:19.734] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"8ad8-5fKZK3rh+6eF86PwF1yI/wyMPl4"' } [app.js:161]
[2018-04-30T14:26:19.734] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:26:19.734] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T14:26:19.735] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:26:19.736] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:26:19.737] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:26:19.737] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:26:19.737] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:26:19.739] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T14:26:19.741] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:26:19.742] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:26:19.742] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"321b-55CXjqVXW/G4WnTUep8Pt32QKXI"' } [app.js:161]
[2018-04-30T14:26:19.742] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:26:19.743] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T14:26:19.743] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:26:19.749] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T14:26:19.752] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:26:19.753] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:26:19.754] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:26:19.754] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:26:19.754] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T14:26:19.759] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T14:26:19.762] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:19.828] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:19.830] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T14:26:19.833] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:19.839] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T14:26:19.841] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:19.846] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T14:26:19.848] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:19.853] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T14:26:19.857] [DEBUG] app - DETECTED FIRWEWALL NODE: 1050   FIREWALL: 46 - FW-CLONZ10 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:19.945] [DEBUG] app - DETECTED FIRWEWALL NODE: 1068   FIREWALL: 47 - FW-CLONZ11 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:19.985] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:20.006] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:20.025] [DEBUG] app - DETECTED FIRWEWALL NODE: 996   FIREWALL: 43 - FW-CLONZ7 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:20.049] [DEBUG] app - DETECTED FIRWEWALL NODE: 1014   FIREWALL: 44 - FW-CLONZ8 [models/tree/fwc_tree.js:142]
[2018-04-30T14:26:20.068] [DEBUG] app - DETECTED FIRWEWALL NODE: 1032   FIREWALL: 45 - FW-CLONZ9 [models/tree/fwc_tree.js:142]
[2018-04-30T14:31:58.392] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
[2018-04-30T14:32:08.311] [DEBUG] app - ORIGIN ALLOWED: undefined [app.js:70]
[2018-04-30T14:32:08.318] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:08.318] [DEBUG] app - 
 { x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  x_fwc_token_auth: '3452lk4n52lk34n5l23k',
  'content-type': 'application/x-www-form-urlencoded',
  'cache-control': 'no-cache',
  'postman-token': '58dd0728-2c2b-4cbe-8771-295a82504035',
  'user-agent': 'PostmanRuntime/7.1.1',
  accept: '*/*',
  host: 'localhost:3000',
  cookie: 'FWCloud.net-cookie=s%3AWqep8SIDf7ofjtKegm30Zw3ig3Y8wFCB.V1bzJWAkRz10zg5dy27SfUEPbmDR0FCZQlcDFx7j7HY',
  'accept-encoding': 'gzip, deflate',
  'content-length': '47',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:32:08.321] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:08.321] [DEBUG] app - METHOD: PUT   PATHNAME: /clusters/clone/cluster/3 [app.js:163]
[2018-04-30T14:32:08.321] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: true [app.js:176]
[2018-04-30T14:32:08.328] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:08.329] [DEBUG] app - UPDATE: true [utils/utils.js:89]
[2018-04-30T14:32:08.329] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED and LOCKED  [utils/utils.js:98]
[2018-04-30T14:32:08.329] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:08.332] [DEBUG] app - { name: 'CLUSTER CLONZ3',
  comment: 'cluster clonado',
  fwcloud: '1' } '[routes/firewall/clusters.js:433]'
[2018-04-30T14:32:08.333] [DEBUG] app - SELECT T.*  , I.name as interface_name, O.name as ip_name, O.address as ip  FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall AND U.id_user='1' LEFT join interface I on I.id=T.install_interface  LEFT join ipobj O on O.id=T.install_ipobj and O.interface=I.id  WHERE cluster =  '3'  AND U.allow_access=1 AND fwmaster=1 [models/firewall/firewall.js:306]
[2018-04-30T14:32:08.336] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:32:08.336] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:32:08.337] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:32:08.337] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:32:08.337] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:32:08.338] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:32:08.339] [DEBUG] app - firewallData:  RowDataPacket {
  id: 50,
  cluster: 3,
  fwcloud: 1,
  name: 'FWC44_M',
  comment: null,
  created_at: 2018-04-30T12:21:41.000Z,
  updated_at: 2018-04-30T12:21:41.000Z,
  by_user: 1,
  id_fwb: null,
  status_compiled: 0,
  install_user: '',
  install_pass: '',
  save_user_pass: 1,
  install_interface: null,
  install_ipobj: null,
  fwmaster: 1,
  install_port: 22,
  ip_admin: null,
  interface_name: null,
  ip_name: null,
  ip: null } [routes/firewall/clusters.js:441]
[2018-04-30T14:32:08.340] [DEBUG] app - { name: 'CLUSTER CLONZ3',
  comment: 'cluster clonado',
  fwcloud: '1' } '[models/firewall/cluster.js:121]'
[2018-04-30T14:32:08.346] [DEBUG] app - SELECT T1.* FROM fwc_tree T1  where T1.node_type='FDC' and T1.id_parent=0 AND T1.fwcloud='1' order by T1.node_order [models/tree/fwc_tree.js:1000]
[2018-04-30T14:32:08.351] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = 50 AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:501]
[2018-04-30T14:32:08.355] [DEBUG] app - insert into firewall(cluster,fwcloud,name, comment, by_user, status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin)  select cluster,fwcloud,'FWC44_M', comment, '1' , status_compiled, install_user, install_pass, save_user_pass, install_interface, install_ipobj, fwmaster, install_port, ip_admin  from firewall where id= 50 and fwcloud=1 [models/firewall/firewall.js:510]
[2018-04-30T14:32:08.358] [DEBUG] app - INSERT CLUSTER OK NODE: 6 - CLUSTER CLONZ3  --> FWCTREE: 1123 [models/tree/fwc_tree.js:1039]
[2018-04-30T14:32:08.358] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree)  VALUES ("FILTER POLICIES","",1123,1,3,"FP",0,0,6,null,1,1) [models/tree/fwc_tree.js:1047]
[2018-04-30T14:32:08.358] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ("NAT","",1123,2,3,"NT",0,0,6,null,1,1) [models/tree/fwc_tree.js:1087]
[2018-04-30T14:32:08.363] [DEBUG] app - INSERT FILTER POLICIES OK NODE: 1124 [models/tree/fwc_tree.js:1053]
[2018-04-30T14:32:08.364] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree, show_action)  VALUES ("INPUT","",1124,1,4,"PI",0,0,6,1,1,1,1) [models/tree/fwc_tree.js:1057]
[2018-04-30T14:32:08.364] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("OUTPUT","",1124,2,4,"PO",0,0,6,2,1,1,1) [models/tree/fwc_tree.js:1065]
[2018-04-30T14:32:08.364] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("FORWARD","",1124,3,4,"PF",0,0,6,3,1,1,1) [models/tree/fwc_tree.js:1073]
[2018-04-30T14:32:08.366] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud, fwcloud_tree, show_action)  VALUES ("SNAT","",1125,1,4,"NTS",0,0,6,4,1,1,0) [models/tree/fwc_tree.js:1096]
[2018-04-30T14:32:08.367] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, subfolders, id_obj,obj_type,fwcloud,fwcloud_tree, show_action)  VALUES ("DNAT","",1125,2,4,"NTD",0,0,6,5,1,1,0) [models/tree/fwc_tree.js:1104]
[2018-04-30T14:32:08.376] [DEBUG] app - NUEVO FIREWALL CREADO: 52 [routes/firewall/clusters.js:466]
[2018-04-30T14:32:08.377] [DEBUG] app - SELECT T.id FROM firewall T INNER JOIN user__firewall U ON T.id=U.id_firewall  AND U.id_user='1' WHERE T.id = 50 AND U.allow_access=1 AND U.allow_edit=1  [models/firewall/firewall.js:582]
[2018-04-30T14:32:08.378] [DEBUG] app -  select 52 as newfirewall, I.*  from interface I  where I.firewall=50 [models/interface/interface.js:625]
[2018-04-30T14:32:08.387] [DEBUG] app - updateFirewallCluster:  UPDATE firewall SET cluster = 6,by_user = '1'  WHERE id = 50 [models/firewall/firewall.js:589]
[2018-04-30T14:32:08.390] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES para nuevo Firewall : 52 [models/interface/interface.js:634]
[2018-04-30T14:32:08.391] [DEBUG] app -  select 52 as newfirewall, P.*  from policy_r P  where P.firewall=50 [models/policy/policy_r.js:556]
[2018-04-30T14:32:08.394] [DEBUG] app - UPDATE firewall SET fwmaster = 1, by_user = '1' WHERE id = 52 AND fwcloud=1 AND cluster=6 [models/firewall/firewall.js:548]
[2018-04-30T14:32:08.397] [DEBUG] app -  select 52 as newfirewall, 93 as newrule, O.*  from policy_r__ipobj O  where O.rule=87 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:32:08.399] [DEBUG] app -  select 52 as newfirewall, 94 as newrule, O.*  from policy_r__ipobj O  where O.rule=88 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:32:08.402] [DEBUG] app -  select 52 as newfirewall, 95 as newrule, O.*  from policy_r__ipobj O  where O.rule=89 ORDER BY position_order [models/policy/policy_r.js:614]
[2018-04-30T14:32:08.403] [DEBUG] app - UPDATE firewall SET fwmaster = 0, by_user = '1' WHERE id <> 52 AND fwcloud=1 AND cluster=6 [models/firewall/firewall.js:558]
[2018-04-30T14:32:08.407] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 93 [models/policy/policy_r.js:623]
[2018-04-30T14:32:08.408] [DEBUG] app - -------> SQL ALL INTERFACES:   select 93 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=87 AND I.firewall= 52 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:32:08.413] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 94 [models/policy/policy_r.js:623]
[2018-04-30T14:32:08.414] [DEBUG] app - -------> SQL ALL INTERFACES:   select 94 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=88 AND I.firewall= 52 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:32:08.417] [DEBUG] app - -->>>>>>>> FINAL de IPOBJS PARA nueva POLICY: 95 [models/policy/policy_r.js:623]
[2018-04-30T14:32:08.419] [DEBUG] app - -------> SQL ALL INTERFACES:   select 95 as newrule, I.id as newInterface, O.*  from policy_r__interface O  inner join interface I on I.id_fwb=O.interface  where O.rule=89 AND I.firewall= 52 ORDER BY position_order [models/policy/policy_r.js:633]
[2018-04-30T14:32:08.421] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 93 [models/policy/policy_r.js:642]
[2018-04-30T14:32:08.422] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 94 [models/policy/policy_r.js:642]
[2018-04-30T14:32:08.423] [DEBUG] app - -->>>>>>>> FINAL de INTERFACES PARA nueva POLICY: 95 [models/policy/policy_r.js:642]
[2018-04-30T14:32:08.423] [DEBUG] app - -->>>>>>>> FINAL de POLICY para nuevo Firewall : 52 [models/policy/policy_r.js:565]
[2018-04-30T14:32:08.425] [DEBUG] app - SELECT T1.* FROM fwc_tree T1  where T1.node_type='FCF' AND (T1.id_obj=(select id from firewall where cluster=6 and fwmaster=1 and fwcloud='1') OR T1.id_obj=6)   AND T1.fwcloud='1' order by T1.node_order [models/tree/fwc_tree.js:803]
[2018-04-30T14:32:08.429] [DEBUG] app - SELECT  F.id,F.name,F.fwcloud, F.comment FROM firewall F inner join fwcloud C on C.id=F.fwcloud WHERE C.id='1' AND F.id=52 [models/tree/fwc_tree.js:817]
[2018-04-30T14:32:08.443] [DEBUG] app - INSERT INTO fwc_tree( name, comment, id_parent, node_order,node_level, node_type, expanded, `subfolders`, id_obj,obj_type,fwcloud, fwcloud_tree)  VALUES ('FWC44_M',NULL,1128,1,4,"FW",0,0,52,0,1,1) [models/tree/fwc_tree.js:836]
[2018-04-30T14:32:08.446] [DEBUG] app - INSERT FIREWALL OK NODE: 52 - FWC44_M  --> FWCTREE: 1134 [models/tree/fwc_tree.js:843]
[2018-04-30T14:32:08.446] [DEBUG] app - UPDATING CLUSTER STRUCTURE: 52 - FWC44_M  CLUSTER:  6   IDFIREWAL:  52   FWMASTER:  1 [models/tree/fwc_tree.js:941]
[2018-04-30T14:32:12.124] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:12.134] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:12.137] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:12.138] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:12.138] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"8ad8-5fKZK3rh+6eF86PwF1yI/wyMPl4"' } [app.js:161]
[2018-04-30T14:32:12.139] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:12.139] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/firewalls [app.js:163]
[2018-04-30T14:32:12.139] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:12.142] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:12.143] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:12.143] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:12.143] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:12.146] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDF' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T14:32:12.152] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:12.153] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:12.153] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"3cac-fD7BAkV/hrZdFht39+DcAtAAVuE"' } [app.js:161]
[2018-04-30T14:32:12.153] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:12.154] [DEBUG] app - METHOD: GET   PATHNAME: /fwc-tree/clusters [app.js:163]
[2018-04-30T14:32:12.154] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:12.161] [DEBUG] app - [ RowDataPacket {
    id: 2,
    name: 'FIREWALLS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDF',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T14:32:12.164] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:12.166] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:12.166] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:12.166] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:12.167] [DEBUG] app - SELECT T.*, P.order_mode FROM fwc_tree T inner join fwcloud C on C.id=T.fwcloud  INNER JOIN user__cloud U ON C.id=U.fwcloud  LEFT JOIN fwc_tree_node_types P on T.node_type=P.node_type WHERE  T.fwcloud='1'  AND T.node_type='FDC' AND T.id_parent=0  AND U.id_user='1' AND U.allow_access=1  ORDER BY T.id limit 1 [models/tree/fwc_tree.js:55]
[2018-04-30T14:32:12.173] [DEBUG] app - [ RowDataPacket {
    id: 1,
    name: 'CLUSTERS',
    comment: '',
    id_parent: 0,
    node_level: 1,
    node_order: 1,
    node_icon: null,
    node_type: 'FDC',
    expanded: 0,
    subfolders: 0,
    api_call: null,
    id_obj: null,
    obj_type: null,
    fwcloud: 1,
    show_action: 0,
    status_compiled: 0,
    fwcloud_tree: 1,
    order_mode: 2 } ] '[utils/utils.js:33]'
[2018-04-30T14:32:12.178] [DEBUG] app - DETECTED FIRWEWALL NODE: 231   FIREWALL: 2 - AFFFFF [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.255] [DEBUG] app - DETECTED FIRWEWALL NODE: 260   FIREWALL: 4 - BFFF [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.258] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>260 [models/tree/fwc_tree.js:155]
[2018-04-30T14:32:12.259] [DEBUG] app - DETECTED FIRWEWALL NODE: 219   FIREWALL: 1 - FW 22 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.267] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>219 [models/tree/fwc_tree.js:155]
[2018-04-30T14:32:12.270] [DEBUG] app - DETECTED FIRWEWALL NODE: 284   FIREWALL: 21 - FW-CLON4 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.274] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>284 [models/tree/fwc_tree.js:155]
[2018-04-30T14:32:12.277] [DEBUG] app - DETECTED FIRWEWALL NODE: 296   FIREWALL: 22 - FW-CLON5 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.281] [DEBUG] app - ---> <<<<DESCARTING FIREWALL NODE>>>296 [models/tree/fwc_tree.js:155]
[2018-04-30T14:32:12.286] [DEBUG] app - DETECTED FIRWEWALL NODE: 1050   FIREWALL: 46 - FW-CLONZ10 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.341] [DEBUG] app - DETECTED FIRWEWALL NODE: 1068   FIREWALL: 47 - FW-CLONZ11 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.382] [DEBUG] app - DETECTED FIRWEWALL NODE: 960   FIREWALL: 41 - FW-CLONZ5 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.407] [DEBUG] app - DETECTED FIRWEWALL NODE: 978   FIREWALL: 42 - FW-CLONZ6 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.431] [DEBUG] app - DETECTED FIRWEWALL NODE: 996   FIREWALL: 43 - FW-CLONZ7 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.448] [DEBUG] app - DETECTED FIRWEWALL NODE: 1014   FIREWALL: 44 - FW-CLONZ8 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:12.466] [DEBUG] app - DETECTED FIRWEWALL NODE: 1032   FIREWALL: 45 - FW-CLONZ9 [models/tree/fwc_tree.js:142]
[2018-04-30T14:32:21.280] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:21.288] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:21.289] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:21.290] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T14:32:21.290] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:21.290] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T14:32:21.290] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:21.292] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:21.294] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:21.294] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:21.294] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:21.680] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:21.681] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:21.682] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:21.684] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:21.685] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:21.685] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:32:21.685] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:21.686] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/52/type/1 [app.js:163]
[2018-04-30T14:32:21.686] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:21.688] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:21.688] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:21.688] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:32:21.689] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:21.689] [DEBUG] app - METHOD: GET   PATHNAME: /firewalls/cluster/6 [app.js:163]
[2018-04-30T14:32:21.689] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:21.690] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:21.691] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:21.691] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:21.691] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:21.693] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:21.693] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:21.693] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T14:32:21.694] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:21.694] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T14:32:21.694] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:21.695] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:21.696] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:21.696] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:21.696] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:21.698] [DEBUG] app - MOSTRANDO POLICY para firewall: 52  TYPE:1 [routes/policy/policy_rs.js:50]
[2018-04-30T14:32:21.700] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:21.701] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:21.701] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:21.703] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:21.705] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:32:21.706] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:32:21.706] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:32:21.710] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='52' AND  P.type= 1 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T14:32:21.719] [DEBUG] app - 1 ---> DENTRO de REGLA: 93 ORDER: 7 [models/policy/policy_r.js:106]
[2018-04-30T14:32:22.953] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:22.955] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:22.956] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:22.956] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T14:32:22.957] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:22.957] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T14:32:22.957] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:22.959] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:22.959] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:22.959] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:22.960] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:23.008] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:23.011] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:23.012] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:23.012] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:32:23.012] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:23.012] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/52/type/2 [app.js:163]
[2018-04-30T14:32:23.012] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:23.022] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:23.024] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:23.024] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:23.024] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:23.027] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:23.029] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:23.032] [DEBUG] app - MOSTRANDO POLICY para firewall: 52  TYPE:2 [routes/policy/policy_rs.js:50]
[2018-04-30T14:32:23.033] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='52' AND  P.type= 2 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T14:32:23.035] [DEBUG] app - 1 ---> DENTRO de REGLA: 95 ORDER: 7 [models/policy/policy_r.js:106]
[2018-04-30T14:32:23.045] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:23.045] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:23.046] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T14:32:23.046] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:23.046] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T14:32:23.046] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:23.047] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:23.048] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:23.048] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"177-x5wSo0QY8ZfvkyQM9e2Kkug+PlI"' } [app.js:161]
[2018-04-30T14:32:23.048] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:23.048] [DEBUG] app - METHOD: GET   PATHNAME: /firewalls/cluster/6 [app.js:163]
[2018-04-30T14:32:23.049] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:23.049] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:23.050] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:23.050] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:23.051] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:23.052] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:23.052] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:23.053] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:23.053] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:23.060] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:32:23.062] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:32:23.063] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:32:24.639] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:24.640] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:24.641] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:24.641] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"209-307yQObZzQr9pmetQf2ZihRmQ1I"' } [app.js:161]
[2018-04-30T14:32:24.641] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:24.641] [DEBUG] app - METHOD: GET   PATHNAME: /policy-types [app.js:163]
[2018-04-30T14:32:24.642] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:24.644] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:24.644] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:24.644] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:24.644] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:24.715] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:24.718] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:24.719] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:24.719] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive' } [app.js:161]
[2018-04-30T14:32:24.719] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:24.720] [DEBUG] app - METHOD: GET   PATHNAME: /policy-rs/52/type/3 [app.js:163]
[2018-04-30T14:32:24.720] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:24.721] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:24.722] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:24.727] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:24.727] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:24.727] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:24.728] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:24.731] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:24.737] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:24.737] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"2f62-LKcMQm+zjhjYVZkWMkfD8ZwfeIY"' } [app.js:161]
[2018-04-30T14:32:24.738] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:24.738] [DEBUG] app - METHOD: GET   PATHNAME: /ipobj-types__policy_positions [app.js:163]
[2018-04-30T14:32:24.738] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:24.739] [DEBUG] app - ORIGIN ALLOWED: http://localhost:4200 [app.js:70]
[2018-04-30T14:32:24.739] [DEBUG] app - ---------------- RECEIVED HEADERS----------------- [app.js:160]
[2018-04-30T14:32:24.740] [DEBUG] app - 
 { host: 'localhost:3000',
  'user-agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0',
  accept: 'application/json, text/plain, */*',
  'accept-language': 'es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3',
  'accept-encoding': 'gzip, deflate',
  referer: 'http://localhost:4200/fwcdashboard/policy',
  'content-type': 'application/json',
  x_fwc_token_auth: '',
  x_fwc_confirm_token: 'vhXro8d6vTh5efvtlBjZpdowRbS1ReI3_NQwsdDitaSeqsBBqlC0J',
  x_fwc_iduser: '1',
  x_fwc_fwcloud: '1',
  origin: 'http://localhost:4200',
  connection: 'keep-alive',
  'if-none-match': 'W/"177-x5wSo0QY8ZfvkyQM9e2Kkug+PlI"' } [app.js:161]
[2018-04-30T14:32:24.740] [DEBUG] app - -------------------------------------------------- [app.js:162]
[2018-04-30T14:32:24.740] [DEBUG] app - METHOD: GET   PATHNAME: /firewalls/cluster/6 [app.js:163]
[2018-04-30T14:32:24.740] [WARN] app - API CHECK FWCLOUD ACCESS USER : [1] --- FWCLOUD: [1]   ACTION UPDATE: false [app.js:176]
[2018-04-30T14:32:24.749] [DEBUG] app - MOSTRANDO POLICY para firewall: 52  TYPE:3 [routes/policy/policy_rs.js:50]
[2018-04-30T14:32:24.750] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:24.751] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:24.752] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:24.752] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:24.753] [DEBUG] app - IDUSER: 1 [models/fwcloud/fwcloud.js:155]
[2018-04-30T14:32:24.754] [DEBUG] app - UPDATE: false [utils/utils.js:89]
[2018-04-30T14:32:24.754] [WARN] app - OK --> FWCLOUD ACCESS ALLOWED TO READ  [utils/utils.js:91]
[2018-04-30T14:32:24.754] [WARN] app - -------------------------------------------------- [utils/utils.js:144]
[2018-04-30T14:32:24.755] [DEBUG] app - SELECT P.*, G.name as group_name, G.groupstyle as group_style,  C.updated_at as c_updated_at,  IF((P.updated_at > C.updated_at) OR C.updated_at IS NULL, 0, IFNULL(C.status_compiled,0) ) as rule_compiled  FROM policy_r P  LEFT JOIN policy_g G ON G.id=P.idgroup  LEFT JOIN policy_c C ON C.rule=P.id  WHERE P.firewall='52' AND  P.type= 3 ORDER BY P.rule_order [models/policy/policy_r.js:90]
[2018-04-30T14:32:24.762] [DEBUG] app - DENTRO de decryptDataUserPass [utils/utils.js:252]
[2018-04-30T14:32:24.762] [DEBUG] app - DECRYPT USER:   [utils/utils.js:254]
[2018-04-30T14:32:24.763] [DEBUG] app - DECRYPT PASS:   [utils/utils.js:261]
[2018-04-30T14:32:24.765] [DEBUG] app - 1 ---> DENTRO de REGLA: 94 ORDER: 7 [models/policy/policy_r.js:106]
[2018-04-30T14:37:29.407] [DEBUG] app - ----  DATABASE CONNECTED: dblocal in MODE: mode_production  AUTOCOMMIT: 1  ----- [db.js:50]
